<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="720" viewBox="0 0 1200 720" role="img" aria-label="ER diagram of Users, Events, Registrations, Payments">
  <title>Figure 3: ER Diagram</title>
  <desc>Entity-relationship: Users, Events, Registrations, Payments with cardinalities.</desc>
  <rect width="100%" height="100%" fill="#ffffff"/>
  <text x="600" y="40" text-anchor="middle" font-family="Arial" font-size="20">ER Diagram</text>

  <!-- Entities -->
  <rect x="140" y="120" width="240" height="180" rx="10" fill="#ecfeff" stroke="#06b6d4"/>
  <text x="260" y="150" text-anchor="middle" font-family="Arial" font-size="14">USER</text>
  <text x="160" y="170" font-family="Arial" font-size="11">userId (PK)</text>
  <text x="160" y="186" font-family="Arial" font-size="11">name</text>
  <text x="160" y="202" font-family="Arial" font-size="11">email</text>
  <text x="160" y="218" font-family="Arial" font-size="11">role</text>
  <text x="160" y="234" font-family="Arial" font-size="11">department</text>

  <rect x="820" y="120" width="240" height="220" rx="10" fill="#eef2ff" stroke="#6366f1"/>
  <text x="940" y="150" text-anchor="middle" font-family="Arial" font-size="14">EVENT</text>
  <text x="840" y="170" font-family="Arial" font-size="11">id (PK)</text>
  <text x="840" y="186" font-family="Arial" font-size="11">title</text>
  <text x="840" y="202" font-family="Arial" font-size="11">department, category</text>
  <text x="840" y="218" font-family="Arial" font-size="11">startDateTime, endDateTime</text>
  <text x="840" y="234" font-family="Arial" font-size="11">location</text>
  <text x="840" y="250" font-family="Arial" font-size="11">price, isPaid, status</text>

  <rect x="140" y="420" width="260" height="200" rx="10" fill="#f0fdf4" stroke="#10b981"/>
  <text x="270" y="450" text-anchor="middle" font-family="Arial" font-size="14">REGISTRATION</text>
  <text x="160" y="470" font-family="Arial" font-size="11">registrationId (PK)</text>
  <text x="160" y="486" font-family="Arial" font-size="11">eventId (FK)</text>
  <text x="160" y="502" font-family="Arial" font-size="11">userId (FK)</text>
  <text x="160" y="518" font-family="Arial" font-size="11">team</text>
  <text x="160" y="534" font-family="Arial" font-size="11">registeredAt</text>
  <text x="160" y="550" font-family="Arial" font-size="11">status</text>
  <text x="160" y="566" font-family="Arial" font-size="11">paymentId</text>

  <rect x="820" y="420" width="260" height="200" rx="10" fill="#fff7ed" stroke="#fb923c"/>
  <text x="950" y="450" text-anchor="middle" font-family="Arial" font-size="14">PAYMENT</text>
  <text x="840" y="470" font-family="Arial" font-size="11">paymentId (PK)</text>
  <text x="840" y="486" font-family="Arial" font-size="11">orderId</text>
  <text x="840" y="502" font-family="Arial" font-size="11">eventId (FK), userId (FK)</text>
  <text x="840" y="518" font-family="Arial" font-size="11">amount, currency, status</text>
  <text x="840" y="534" font-family="Arial" font-size="11">provider, createdAt</text>

  <!-- Relationships -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="6" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#334155"/>
    </marker>
  </defs>

  <!-- USER to REGISTRATION (1 to many) -->
  <line x1="260" y1="300" x2="270" y2="420" stroke="#334155" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="220" y="365" font-family="Arial" font-size="11">1 to many</text>

  <!-- EVENT to REGISTRATION (1 to many) -->
  <line x1="940" y1="340" x2="930" y2="420" stroke="#334155" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="960" y="385" font-family="Arial" font-size="11">1 to many</text>

  <!-- USER to PAYMENT (1 to many) -->
  <line x1="260" y1="520" x2="820" y2="520" stroke="#334155" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="540" y="510" font-family="Arial" font-size="11">1 to many</text>

  <!-- EVENT to PAYMENT (0..1 to many) -->
  <line x1="940" y1="340" x2="950" y2="420" stroke="#334155" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="980" y="415" font-family="Arial" font-size="11">0..1 to many</text>
</svg>
