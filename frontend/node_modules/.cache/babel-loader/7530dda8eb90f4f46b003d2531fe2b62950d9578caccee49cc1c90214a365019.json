{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sairi\\\\Desktop\\\\main_project\\\\frontend\\\\src\\\\pages\\\\Register.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport api from '../utils/api';\nimport useAuthStore from '../store/authStore';\nimport './Register.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = () => {\n  _s();\n  var _event$registrationDe, _event$registrationDe2;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    isAuthenticated,\n    user\n  } = useAuthStore();\n  const [event, setEvent] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [formError, setFormError] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n\n  // Extras (do not change existing labels/fields)\n  const [referralSource, setReferralSource] = useState('');\n  const [notes, setNotes] = useState('');\n  const [emergencyName, setEmergencyName] = useState('');\n  const [emergencyPhone, setEmergencyPhone] = useState('');\n  const [termsAccepted, setTermsAccepted] = useState(false);\n  const [teamName, setTeamName] = useState('');\n  // teamSize represents TOTAL team size including the registering user\n  const [teamSize, setTeamSize] = useState(1);\n  const [year, setYear] = useState('');\n  const [department, setDepartment] = useState('');\n  const [members, setMembers] = useState([{\n    name: '',\n    email: '',\n    phone: ''\n  }]);\n  useEffect(() => {\n    // Prevent admins from loading registration details\n    if (isAuthenticated && (user === null || user === void 0 ? void 0 : user.role) === 'admin') {\n      setLoading(false);\n      return;\n    }\n    const load = async () => {\n      try {\n        const {\n          data\n        } = await api.get(`/api/events/${id}`);\n        setEvent(data);\n        // Initialize team size constraints from registrationDetails\n        const rd = (data === null || data === void 0 ? void 0 : data.registrationDetails) || {};\n        const team = (rd === null || rd === void 0 ? void 0 : rd.teamSize) || {\n          type: 'individual',\n          value: 1,\n          minValue: 1,\n          maxValue: 1\n        };\n        const teamAllowed = !!rd.teamParticipation && team.type !== 'individual';\n        if (!teamAllowed) {\n          setTeamSize(1);\n          setMembers([{\n            name: (user === null || user === void 0 ? void 0 : user.name) || ((user === null || user === void 0 ? void 0 : user.email) || '').split('@')[0] || '',\n            email: (user === null || user === void 0 ? void 0 : user.email) || '',\n            phone: ''\n          }]);\n        } else if (team.type === 'fixed') {\n          const exact = team.value || 1;\n          setTeamSize(exact);\n          setMembers(Array.from({\n            length: Math.max(1, exact)\n          }, (_, i) => ({\n            name: i === 0 ? (user === null || user === void 0 ? void 0 : user.name) || ((user === null || user === void 0 ? void 0 : user.email) || '').split('@')[0] || '' : '',\n            email: i === 0 ? (user === null || user === void 0 ? void 0 : user.email) || '' : '',\n            phone: ''\n          })));\n        } else if (team.type === 'range' || team.type === 'at_most' || team.type === 'at_least') {\n          const min = Math.max(1, team.minValue || team.value || 1);\n          setTeamSize(min);\n          setMembers(Array.from({\n            length: Math.max(1, min)\n          }, (_, i) => ({\n            name: i === 0 ? (user === null || user === void 0 ? void 0 : user.name) || ((user === null || user === void 0 ? void 0 : user.email) || '').split('@')[0] || '' : '',\n            email: i === 0 ? (user === null || user === void 0 ? void 0 : user.email) || '' : '',\n            phone: ''\n          })));\n        } else {\n          setTeamSize(1);\n          setMembers([{\n            name: (user === null || user === void 0 ? void 0 : user.name) || ((user === null || user === void 0 ? void 0 : user.email) || '').split('@')[0] || '',\n            email: (user === null || user === void 0 ? void 0 : user.email) || '',\n            phone: ''\n          }]);\n        }\n        // Restore draft from localStorage\n        const draftRaw = localStorage.getItem(`register-draft-${id}`);\n        if (draftRaw) {\n          try {\n            const d = JSON.parse(draftRaw);\n            if (d) {\n              setTeamName(d.teamName || '');\n              setTeamSize(Math.max(1, d.teamSize || 1));\n              setYear(d.year || '');\n              setDepartment(d.department || '');\n              if (Array.isArray(d.members) && d.members.length) setMembers(d.members);\n              setReferralSource(d.referralSource || '');\n              setNotes(d.notes || '');\n              setEmergencyName(d.emergencyName || '');\n              setEmergencyPhone(d.emergencyPhone || '');\n              setTermsAccepted(!!d.termsAccepted);\n            }\n          } catch {}\n        }\n      } catch (e) {\n        var _e$response, _e$response$data;\n        const msg = ((_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || e.message || 'Failed to load event';\n        setError(msg);\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, [id, isAuthenticated, user]);\n  const constraints = useMemo(() => {\n    const rd = (event === null || event === void 0 ? void 0 : event.registrationDetails) || {};\n    const team = (rd === null || rd === void 0 ? void 0 : rd.teamSize) || {\n      type: 'individual',\n      value: 1,\n      minValue: 1,\n      maxValue: 1\n    };\n    const teamAllowed = !!rd.teamParticipation && team.type !== 'individual';\n    if (!teamAllowed) return {\n      mode: 'individual'\n    };\n    if (team.type === 'fixed') return {\n      mode: 'exact',\n      exact: team.value || 1\n    };\n    if (team.type === 'at_most') return {\n      mode: 'range',\n      min: 1,\n      max: team.maxValue || team.value || 1\n    };\n    if (team.type === 'at_least') return {\n      mode: 'range',\n      min: team.minValue || team.value || 1,\n      max: 50\n    };\n    // range\n    return {\n      mode: 'range',\n      min: team.minValue || 1,\n      max: team.maxValue || 50\n    };\n  }, [event]);\n  const isPast = useMemo(() => {\n    if (!event) return false;\n    return new Date(event.date) < new Date();\n  }, [event]);\n  useEffect(() => {\n    // Keep members array length in sync with total team size (INCLUDING the registering user)\n    const desired = Math.max(1, teamSize);\n    setMembers(prev => {\n      const next = [...prev];\n      if (desired > next.length) {\n        while (next.length < desired) next.push({\n          name: '',\n          email: '',\n          phone: ''\n        });\n      } else if (desired < next.length) {\n        next.length = desired;\n      }\n      return next;\n    });\n  }, [teamSize]);\n\n  // Autosave draft\n  useEffect(() => {\n    const draft = {\n      teamName,\n      teamSize,\n      year,\n      department,\n      members,\n      referralSource,\n      notes,\n      emergencyName,\n      emergencyPhone,\n      termsAccepted\n    };\n    try {\n      localStorage.setItem(`register-draft-${id}`, JSON.stringify(draft));\n    } catch {}\n  }, [id, teamName, teamSize, year, department, members, referralSource, notes, emergencyName, emergencyPhone, termsAccepted]);\n  const validate = () => {\n    if (!teamName.trim()) return 'Please enter a team name';\n    if (!department.trim()) return 'Please enter a department';\n    if (!year.trim()) return 'Please enter a year';\n    // Require name, email, phone for ALL team members, including the registering user\n    for (let i = 0; i < Math.max(1, teamSize); i++) {\n      const m = members[i] || {};\n      if (!m.name || !m.name.trim()) return `Please enter name for member ${i + 1}`;\n      if (!m.email || !m.email.trim()) return `Please enter email for member ${i + 1}`;\n      if (!/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(m.email)) return `Please enter a valid email for member ${i + 1}`;\n      if (!m.phone || !m.phone.trim()) return `Please enter phone for member ${i + 1}`;\n    }\n    if (constraints.mode === 'exact' && teamSize !== constraints.exact) {\n      return `Team size must be exactly ${constraints.exact}`;\n    }\n    if (constraints.mode === 'range') {\n      if (teamSize < constraints.min || teamSize > constraints.max) {\n        return `Team size must be between ${constraints.min} and ${constraints.max}`;\n      }\n    }\n    // Extra validations\n    if (emergencyPhone && emergencyPhone.replace(/\\D/g, '').length < 10) return 'Please enter a valid emergency phone';\n    if (!termsAccepted) return 'Please accept the Terms and Privacy Policy to continue';\n    if (isPast) return 'Registration is closed for this event';\n    return '';\n  };\n  const onSubmit = async e => {\n    e.preventDefault();\n    const v = validate();\n    if (v) {\n      setFormError(v);\n      return;\n    }\n    try {\n      var _data$registration;\n      setSubmitting(true);\n      // Normalize emails/phones\n      const normalizedMembers = members.map(m => ({\n        name: m.name.trim(),\n        email: (m.email || '').trim().toLowerCase(),\n        phone: (m.phone || '').replace(/\\D/g, '')\n      }));\n      const emergencyPhoneClean = emergencyPhone ? emergencyPhone.replace(/\\D/g, '') : '';\n      const payload = {\n        eventId: id,\n        department,\n        year,\n        teamName,\n        // Send EXACT details for members (including registering user as first entry)\n        teamMembers: normalizedMembers,\n        meta: {\n          referralSource: referralSource || undefined,\n          notes: notes || undefined,\n          emergencyContact: emergencyName ? {\n            name: emergencyName,\n            phone: emergencyPhoneClean\n          } : undefined,\n          acceptedTerms: true\n        }\n      };\n      const {\n        data\n      } = await api.post('/api/registrations/register', payload);\n      const registrationId = (data === null || data === void 0 ? void 0 : (_data$registration = data.registration) === null || _data$registration === void 0 ? void 0 : _data$registration._id) || (data === null || data === void 0 ? void 0 : data.registrationId) || 'pending';\n      navigate(`/payment/${registrationId}`);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const msg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message || 'Registration failed';\n      setFormError(msg);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading event\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 50\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 48\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 21\n  }, this);\n  if (isAuthenticated && (user === null || user === void 0 ? void 0 : user.role) === 'admin') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Registration not allowed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Admin accounts cannot register for events. You can add, edit, or delete events from the Admin panel.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-primary\",\n          onClick: () => navigate('/admin'),\n          children: \"Go to Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-secondary\",\n          onClick: () => navigate(-1),\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this);\n  }\n  if (!event) return null;\n\n  // Price calculation\n  // - For main events: use basicRegistrationAmount\n  // - For others: feePerHead (treated as total per team)\n  const teamTotalFee = event !== null && event !== void 0 && event.isMainEvent ? Number((event === null || event === void 0 ? void 0 : event.basicRegistrationAmount) || 0) : Number((event === null || event === void 0 ? void 0 : (_event$registrationDe = event.registrationDetails) === null || _event$registrationDe === void 0 ? void 0 : _event$registrationDe.feePerHead) || 0);\n\n  // If main event does not have basic registration enabled, block UI\n  if (event.isMainEvent && !event.basicRegistrationEnabled) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Registration Closed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Basic registration is not enabled for this main event.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-secondary\",\n          onClick: () => navigate(-1),\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this);\n  }\n  const eventDateStr = event !== null && event !== void 0 && event.date ? new Date(event.date).toLocaleDateString() : '';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container register-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register-split\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"register-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"illustration\",\n          \"aria-hidden\": true,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"calendar-art\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-chip card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"event-title\",\n            children: event.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"event-meta\",\n            children: [eventDateStr, event !== null && event !== void 0 && event.location ? ` • ${event.location}` : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"register-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"brand\",\n            src: \"/images/gmrit_logo.png\",\n            alt: \"GMRIT\",\n            onError: e => {\n              e.currentTarget.style.display = 'none';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"REGISTRATION FORM\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), isPast && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alert-warn\",\n          children: \"This event date has passed. Registration closed.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 22\n        }, this), formError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert-error\",\n          children: formError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"rg-form\",\n          onSubmit: onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rg-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Team Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n                value: teamName,\n                onChange: e => setTeamName(e.target.value),\n                placeholder: \"Team Phoenix\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), constraints.mode === 'individual' ? /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Team Size\", /*#__PURE__*/_jsxDEV(\"input\", {\n                value: 1,\n                readOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: \"(including you)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this) : constraints.mode === 'exact' ? /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Team Size (exact)\", /*#__PURE__*/_jsxDEV(\"input\", {\n                value: teamSize,\n                readOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: [\"(must be exactly \", constraints.exact, \", including you)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Team Size\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: constraints.min,\n                max: constraints.max,\n                value: teamSize,\n                onChange: e => setTeamSize(parseInt(e.target.value || '0', 10))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: [\"(min \", constraints.min, \", max \", constraints.max, \", including you)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Year\", /*#__PURE__*/_jsxDEV(\"select\", {\n                value: year,\n                onChange: e => setYear(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Please select\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"1st\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"2nd\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"3rd\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"4th\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Department\", /*#__PURE__*/_jsxDEV(\"select\", {\n                value: department,\n                onChange: e => setDepartment(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Please select\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"CSE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"IT\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"ECE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"EEE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"CIVIL\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"MECH\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"members-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"block-title\",\n              children: \"Team Members (including you)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), members.map((m, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"member-card card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"member-title\",\n                children: [\"Team Member \", idx + 1, \" Details\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"member-grid\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n                    value: m.name,\n                    placeholder: `Member ${idx + 1} Name`,\n                    onChange: e => {\n                      const arr = [...members];\n                      arr[idx] = {\n                        ...arr[idx],\n                        name: e.target.value\n                      };\n                      setMembers(arr);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n                    value: m.email,\n                    placeholder: `Member ${idx + 1} Email`,\n                    onChange: e => {\n                      const arr = [...members];\n                      arr[idx] = {\n                        ...arr[idx],\n                        email: e.target.value\n                      };\n                      setMembers(arr);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"Mobile No.\", /*#__PURE__*/_jsxDEV(\"input\", {\n                    value: m.phone,\n                    placeholder: `Member ${idx + 1} Phone`,\n                    onChange: e => {\n                      const arr = [...members];\n                      arr[idx] = {\n                        ...arr[idx],\n                        phone: e.target.value\n                      };\n                      setMembers(arr);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 19\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amount-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"amount\",\n              children: [\"Amount: \\u20B9\", teamTotalFee, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"(team total)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 63\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"amount-breakdown\",\n              children: [event !== null && event !== void 0 && event.isMainEvent ? 'Basic registration amount' : 'Team fee', event !== null && event !== void 0 && (_event$registrationDe2 = event.registrationDetails) !== null && _event$registrationDe2 !== void 0 && _event$registrationDe2.feePerHead ? '' : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"extras-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rg-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"span-2\",\n                children: [\"How did you hear about this event?\", /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: referralSource,\n                  onChange: e => setReferralSource(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Please select\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"College notice\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"Faculty\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"WhatsApp\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"Instagram\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"Friend/Referral\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"Other\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Emergency contact name\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: emergencyName,\n                  onChange: e => setEmergencyName(e.target.value),\n                  placeholder: \"Contact name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Emergency contact phone\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: emergencyPhone,\n                  onChange: e => setEmergencyPhone(e.target.value),\n                  placeholder: \"Phone number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"span-2\",\n                children: [\"Additional notes\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  rows: 3,\n                  value: notes,\n                  onChange: e => setNotes(e.target.value),\n                  placeholder: \"Any requests or notes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"consent-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: termsAccepted,\n                onChange: e => setTermsAccepted(e.target.checked)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"I agree to the \", /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/terms\",\n                  target: \"_blank\",\n                  rel: \"noreferrer\",\n                  children: \"Terms\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 38\n                }, this), \" and \", /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/privacy\",\n                  target: \"_blank\",\n                  rel: \"noreferrer\",\n                  children: \"Privacy Policy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 102\n                }, this), \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-secondary\",\n              onClick: () => navigate(-1),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn-primary\",\n              disabled: isPast || submitting,\n              children: submitting ? 'Processing…' : 'Proceed to Payment'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"UWUzWpYDHocMer3DqGyf/g2QBUk=\", false, function () {\n  return [useParams, useNavigate, useAuthStore];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","useParams","api","useAuthStore","jsxDEV","_jsxDEV","Register","_s","_event$registrationDe","_event$registrationDe2","id","navigate","isAuthenticated","user","event","setEvent","loading","setLoading","error","setError","formError","setFormError","submitting","setSubmitting","referralSource","setReferralSource","notes","setNotes","emergencyName","setEmergencyName","emergencyPhone","setEmergencyPhone","termsAccepted","setTermsAccepted","teamName","setTeamName","teamSize","setTeamSize","year","setYear","department","setDepartment","members","setMembers","name","email","phone","role","load","data","get","rd","registrationDetails","team","type","value","minValue","maxValue","teamAllowed","teamParticipation","split","exact","Array","from","length","Math","max","_","i","min","draftRaw","localStorage","getItem","d","JSON","parse","isArray","e","_e$response","_e$response$data","msg","response","message","constraints","mode","isPast","Date","date","desired","prev","next","push","draft","setItem","stringify","validate","trim","m","test","replace","onSubmit","preventDefault","v","_data$registration","normalizedMembers","map","toLowerCase","emergencyPhoneClean","payload","eventId","teamMembers","meta","undefined","emergencyContact","acceptedTerms","post","registrationId","registration","_id","err","_err$response","_err$response$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","teamTotalFee","isMainEvent","Number","basicRegistrationAmount","feePerHead","basicRegistrationEnabled","eventDateStr","toLocaleDateString","location","src","alt","onError","currentTarget","style","display","onChange","target","placeholder","readOnly","parseInt","idx","arr","rows","checked","href","rel","disabled","_c","$RefreshReg$"],"sources":["C:/Users/sairi/Desktop/main_project/frontend/src/pages/Register.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport api from '../utils/api';\nimport useAuthStore from '../store/authStore';\nimport './Register.css';\n\nconst Register = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { isAuthenticated, user } = useAuthStore();\n  const [event, setEvent] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [formError, setFormError] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n\n  // Extras (do not change existing labels/fields)\n  const [referralSource, setReferralSource] = useState('');\n  const [notes, setNotes] = useState('');\n  const [emergencyName, setEmergencyName] = useState('');\n  const [emergencyPhone, setEmergencyPhone] = useState('');\n  const [termsAccepted, setTermsAccepted] = useState(false);\n\n  const [teamName, setTeamName] = useState('');\n  // teamSize represents TOTAL team size including the registering user\n  const [teamSize, setTeamSize] = useState(1);\n  const [year, setYear] = useState('');\n  const [department, setDepartment] = useState('');\n  const [members, setMembers] = useState([{ name: '', email: '', phone: '' }]);\n\n  useEffect(() => {\n    // Prevent admins from loading registration details\n    if (isAuthenticated && user?.role === 'admin') {\n      setLoading(false);\n      return;\n    }\n    const load = async () => {\n      try {\n        const { data } = await api.get(`/api/events/${id}`);\n        setEvent(data);\n        // Initialize team size constraints from registrationDetails\n        const rd = data?.registrationDetails || {};\n        const team = rd?.teamSize || { type: 'individual', value: 1, minValue: 1, maxValue: 1 };\n        const teamAllowed = !!rd.teamParticipation && team.type !== 'individual';\n        if (!teamAllowed) {\n          setTeamSize(1);\n          setMembers([{ name: (user?.name || ((user?.email || '').split('@')[0]) || ''), email: user?.email || '', phone: '' }]);\n        } else if (team.type === 'fixed') {\n          const exact = team.value || 1;\n          setTeamSize(exact);\n          setMembers(Array.from({ length: Math.max(1, exact) }, (_, i) => ({ name: i === 0 ? (user?.name || ((user?.email || '').split('@')[0]) || '') : '', email: i === 0 ? (user?.email || '') : '', phone: '' })));\n        } else if (team.type === 'range' || team.type === 'at_most' || team.type === 'at_least') {\n          const min = Math.max(1, team.minValue || team.value || 1);\n          setTeamSize(min);\n          setMembers(Array.from({ length: Math.max(1, min) }, (_, i) => ({ name: i === 0 ? (user?.name || ((user?.email || '').split('@')[0]) || '') : '', email: i === 0 ? (user?.email || '') : '', phone: '' })));\n        } else {\n          setTeamSize(1);\n          setMembers([{ name: (user?.name || ((user?.email || '').split('@')[0]) || ''), email: user?.email || '', phone: '' }]);\n        }\n        // Restore draft from localStorage\n        const draftRaw = localStorage.getItem(`register-draft-${id}`);\n        if (draftRaw) {\n          try {\n            const d = JSON.parse(draftRaw);\n            if (d) {\n              setTeamName(d.teamName || '');\n              setTeamSize(Math.max(1, d.teamSize || 1));\n              setYear(d.year || '');\n              setDepartment(d.department || '');\n              if (Array.isArray(d.members) && d.members.length) setMembers(d.members);\n              setReferralSource(d.referralSource || '');\n              setNotes(d.notes || '');\n              setEmergencyName(d.emergencyName || '');\n              setEmergencyPhone(d.emergencyPhone || '');\n              setTermsAccepted(!!d.termsAccepted);\n            }\n          } catch {}\n        }\n      } catch (e) {\n        const msg = e.response?.data?.message || e.message || 'Failed to load event';\n        setError(msg);\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, [id, isAuthenticated, user]);\n\n  const constraints = useMemo(() => {\n    const rd = event?.registrationDetails || {};\n    const team = rd?.teamSize || { type: 'individual', value: 1, minValue: 1, maxValue: 1 };\n    const teamAllowed = !!rd.teamParticipation && team.type !== 'individual';\n    if (!teamAllowed) return { mode: 'individual' };\n    if (team.type === 'fixed') return { mode: 'exact', exact: team.value || 1 };\n    if (team.type === 'at_most') return { mode: 'range', min: 1, max: team.maxValue || team.value || 1 };\n    if (team.type === 'at_least') return { mode: 'range', min: team.minValue || team.value || 1, max: 50 };\n    // range\n    return { mode: 'range', min: team.minValue || 1, max: team.maxValue || 50 };\n  }, [event]);\n\n  const isPast = useMemo(() => {\n    if (!event) return false;\n    return new Date(event.date) < new Date();\n  }, [event]);\n\n  useEffect(() => {\n    // Keep members array length in sync with total team size (INCLUDING the registering user)\n    const desired = Math.max(1, teamSize);\n    setMembers((prev) => {\n      const next = [...prev];\n      if (desired > next.length) {\n        while (next.length < desired) next.push({ name: '', email: '', phone: '' });\n      } else if (desired < next.length) {\n        next.length = desired;\n      }\n      return next;\n    });\n  }, [teamSize]);\n\n  // Autosave draft\n  useEffect(() => {\n    const draft = {\n      teamName, teamSize, year, department, members,\n      referralSource, notes, emergencyName, emergencyPhone, termsAccepted,\n    };\n    try { localStorage.setItem(`register-draft-${id}`, JSON.stringify(draft)); } catch {}\n  }, [id, teamName, teamSize, year, department, members, referralSource, notes, emergencyName, emergencyPhone, termsAccepted]);\n\n  const validate = () => {\n    if (!teamName.trim()) return 'Please enter a team name';\n    if (!department.trim()) return 'Please enter a department';\n    if (!year.trim()) return 'Please enter a year';\n    // Require name, email, phone for ALL team members, including the registering user\n    for (let i = 0; i < Math.max(1, teamSize); i++) {\n      const m = members[i] || {};\n      if (!m.name || !m.name.trim()) return `Please enter name for member ${i + 1}`;\n      if (!m.email || !m.email.trim()) return `Please enter email for member ${i + 1}`;\n      if (!/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(m.email)) return `Please enter a valid email for member ${i + 1}`;\n      if (!m.phone || !m.phone.trim()) return `Please enter phone for member ${i + 1}`;\n    }\n    if (constraints.mode === 'exact' && teamSize !== constraints.exact) {\n      return `Team size must be exactly ${constraints.exact}`;\n    }\n    if (constraints.mode === 'range') {\n      if (teamSize < constraints.min || teamSize > constraints.max) {\n        return `Team size must be between ${constraints.min} and ${constraints.max}`;\n      }\n    }\n    // Extra validations\n    if (emergencyPhone && emergencyPhone.replace(/\\D/g, '').length < 10) return 'Please enter a valid emergency phone';\n    if (!termsAccepted) return 'Please accept the Terms and Privacy Policy to continue';\n    if (isPast) return 'Registration is closed for this event';\n    return '';\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    const v = validate();\n    if (v) { setFormError(v); return; }\n    try {\n      setSubmitting(true);\n      // Normalize emails/phones\n      const normalizedMembers = members.map(m => ({\n        name: m.name.trim(),\n        email: (m.email || '').trim().toLowerCase(),\n        phone: (m.phone || '').replace(/\\D/g, ''),\n      }));\n      const emergencyPhoneClean = emergencyPhone ? emergencyPhone.replace(/\\D/g, '') : '';\n      const payload = {\n        eventId: id,\n        department,\n        year,\n        teamName,\n        // Send EXACT details for members (including registering user as first entry)\n        teamMembers: normalizedMembers,\n        meta: {\n          referralSource: referralSource || undefined,\n          notes: notes || undefined,\n          emergencyContact: emergencyName ? { name: emergencyName, phone: emergencyPhoneClean } : undefined,\n          acceptedTerms: true,\n        },\n      };\n      const { data } = await api.post('/api/registrations/register', payload);\n      const registrationId = data?.registration?._id || data?.registrationId || 'pending';\n      navigate(`/payment/${registrationId}`);\n    } catch (err) {\n      const msg = err.response?.data?.message || err.message || 'Registration failed';\n      setFormError(msg);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (loading) return <div className=\"container\"><p>Loading event…</p></div>;\n  if (error) return <div className=\"container\"><p>{error}</p></div>;\n  if (isAuthenticated && user?.role === 'admin') {\n    return (\n      <div className=\"container\">\n        <h2>Registration not allowed</h2>\n        <p>Admin accounts cannot register for events. You can add, edit, or delete events from the Admin panel.</p>\n        <div className=\"form-actions\">\n          <button className=\"btn-primary\" onClick={() => navigate('/admin')}>Go to Admin</button>\n          <button className=\"btn-secondary\" onClick={() => navigate(-1)}>Back</button>\n        </div>\n      </div>\n    );\n  }\n  if (!event) return null;\n\n  // Price calculation\n  // - For main events: use basicRegistrationAmount\n  // - For others: feePerHead (treated as total per team)\n  const teamTotalFee = event?.isMainEvent\n    ? Number(event?.basicRegistrationAmount || 0)\n    : Number(event?.registrationDetails?.feePerHead || 0);\n\n  // If main event does not have basic registration enabled, block UI\n  if (event.isMainEvent && !event.basicRegistrationEnabled) {\n    return (\n      <div className=\"container\">\n        <h2>Registration Closed</h2>\n        <p>Basic registration is not enabled for this main event.</p>\n        <div className=\"form-actions\">\n          <button className=\"btn-secondary\" onClick={() => navigate(-1)}>Back</button>\n        </div>\n      </div>\n    );\n  }\n\n  const eventDateStr = event?.date ? new Date(event.date).toLocaleDateString() : '';\n\n  return (\n    <div className=\"container register-page\">\n      <div className=\"register-split\">\n        {/* Left hero panel */}\n        <div className=\"register-left\">\n          <div className=\"illustration\" aria-hidden>\n            <div className=\"calendar-art\" />\n          </div>\n          <div className=\"event-chip card\">\n            <div className=\"event-title\">{event.name}</div>\n            <div className=\"event-meta\">{eventDateStr}{event?.location ? ` • ${event.location}` : ''}</div>\n          </div>\n        </div>\n\n        {/* Right form panel */}\n        <div className=\"register-right\">\n          <div className=\"form-header\">\n            <img\n              className=\"brand\"\n              src=\"/images/gmrit_logo.png\"\n              alt=\"GMRIT\"\n              onError={(e) => { e.currentTarget.style.display = 'none'; }}\n            />\n            <h2>REGISTRATION FORM</h2>\n          </div>\n\n          {isPast && <p className=\"alert-warn\">This event date has passed. Registration closed.</p>}\n          {formError && <div className=\"alert-error\">{formError}</div>}\n\n          <form className=\"rg-form\" onSubmit={onSubmit}>\n            <div className=\"rg-grid\">\n              <label>Team Name\n                <input value={teamName} onChange={(e) => setTeamName(e.target.value)} placeholder=\"Team Phoenix\" />\n              </label>\n\n              {constraints.mode === 'individual' ? (\n                <label>Team Size\n                  <input value={1} readOnly />\n                  <small>(including you)</small>\n                </label>\n              ) : constraints.mode === 'exact' ? (\n                <label>Team Size (exact)\n                  <input value={teamSize} readOnly />\n                  <small>(must be exactly {constraints.exact}, including you)</small>\n                </label>\n              ) : (\n                <label>Team Size\n                  <input type=\"number\" min={constraints.min} max={constraints.max} value={teamSize}\n                         onChange={(e) => setTeamSize(parseInt(e.target.value || '0', 10))} />\n                  <small>(min {constraints.min}, max {constraints.max}, including you)</small>\n                </label>\n              )}\n\n              <label>Year\n                <select value={year} onChange={(e) => setYear(e.target.value)}>\n                  <option value=\"\">Please select</option>\n                  <option>1st</option>\n                  <option>2nd</option>\n                  <option>3rd</option>\n                  <option>4th</option>\n                </select>\n              </label>\n\n              <label>Department\n                <select value={department} onChange={(e) => setDepartment(e.target.value)}>\n                  <option value=\"\">Please select</option>\n                  <option>CSE</option>\n                  <option>IT</option>\n                  <option>ECE</option>\n                  <option>EEE</option>\n                  <option>CIVIL</option>\n                  <option>MECH</option>\n                </select>\n              </label>\n            </div>\n\n            <div className=\"members-block\">\n              <div className=\"block-title\">Team Members (including you)</div>\n              {members.map((m, idx) => (\n                <div key={idx} className=\"member-card card\">\n                  <div className=\"member-title\">Team Member {idx + 1} Details</div>\n                  <div className=\"member-grid\">\n                    <label>Name\n                      <input value={m.name} placeholder={`Member ${idx + 1} Name`}\n                             onChange={(e) => { const arr = [...members]; arr[idx] = { ...arr[idx], name: e.target.value }; setMembers(arr); }} />\n                    </label>\n                    <label>Email\n                      <input value={m.email} placeholder={`Member ${idx + 1} Email`}\n                             onChange={(e) => { const arr = [...members]; arr[idx] = { ...arr[idx], email: e.target.value }; setMembers(arr); }} />\n                    </label>\n                    <label>Mobile No.\n                      <input value={m.phone} placeholder={`Member ${idx + 1} Phone`}\n                             onChange={(e) => { const arr = [...members]; arr[idx] = { ...arr[idx], phone: e.target.value }; setMembers(arr); }} />\n                    </label>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"amount-row\">\n              <div className=\"amount\">Amount: ₹{teamTotalFee} <span>(team total)</span></div>\n              {/* Optional simple breakdown placeholder */}\n              <div className=\"amount-breakdown\">{event?.isMainEvent ? 'Basic registration amount' : 'Team fee'}{event?.registrationDetails?.feePerHead ? '' : ''}</div>\n            </div>\n\n            {/* Extras section */}\n            <div className=\"extras-block\">\n              <div className=\"rg-grid\">\n                <label className=\"span-2\">How did you hear about this event?\n                  <select value={referralSource} onChange={(e) => setReferralSource(e.target.value)}>\n                    <option value=\"\">Please select</option>\n                    <option>College notice</option>\n                    <option>Faculty</option>\n                    <option>WhatsApp</option>\n                    <option>Instagram</option>\n                    <option>Friend/Referral</option>\n                    <option>Other</option>\n                  </select>\n                </label>\n\n                <label>Emergency contact name\n                  <input value={emergencyName} onChange={(e) => setEmergencyName(e.target.value)} placeholder=\"Contact name\" />\n                </label>\n                <label>Emergency contact phone\n                  <input value={emergencyPhone} onChange={(e) => setEmergencyPhone(e.target.value)} placeholder=\"Phone number\" />\n                </label>\n\n                <label className=\"span-2\">Additional notes\n                  <textarea rows={3} value={notes} onChange={(e) => setNotes(e.target.value)} placeholder=\"Any requests or notes\" />\n                </label>\n              </div>\n\n              <label className=\"consent-row\">\n                <input type=\"checkbox\" checked={termsAccepted} onChange={(e) => setTermsAccepted(e.target.checked)} />\n                <span>I agree to the <a href=\"/terms\" target=\"_blank\" rel=\"noreferrer\">Terms</a> and <a href=\"/privacy\" target=\"_blank\" rel=\"noreferrer\">Privacy Policy</a>.</span>\n              </label>\n            </div>\n\n            <div className=\"form-actions\">\n              <button type=\"button\" className=\"btn-secondary\" onClick={() => navigate(-1)}>Cancel</button>\n              <button type=\"submit\" className=\"btn-primary\" disabled={isPast || submitting}>\n                {submitting ? 'Processing…' : 'Proceed to Payment'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}