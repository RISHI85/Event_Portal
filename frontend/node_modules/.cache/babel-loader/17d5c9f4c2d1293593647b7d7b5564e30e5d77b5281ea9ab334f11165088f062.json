{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sairi\\\\Desktop\\\\main_project\\\\frontend\\\\src\\\\pages\\\\CertificateView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport CertificateTemplate from '../components/CertificateTemplate';\nimport './CertificateView.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CertificateView = () => {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [certData, setCertData] = useState(null);\n  useEffect(() => {\n    // 1) Try URL query param `data` (base64-encoded JSON)\n    try {\n      const params = new URLSearchParams(location.search);\n      const b64 = params.get('data');\n      if (b64) {\n        const json = atob(b64);\n        const parsed = JSON.parse(json);\n        setCertData({\n          ...parsed,\n          __fromQuery: true\n        });\n        return;\n      }\n    } catch (e) {\n      // fall back to sessionStorage\n    }\n\n    // 2) Fallback: sessionStorage\n    try {\n      const data = sessionStorage.getItem('certificateData');\n      if (data) {\n        setCertData(JSON.parse(data));\n        return;\n      }\n    } catch (e) {\n      // ignore and navigate\n    }\n    navigate('/my-events');\n  }, [navigate, location.search]);\n  if (!certData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        minHeight: '100vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading certificate...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"certificate-view-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"certificate-view-container\",\n      children: /*#__PURE__*/_jsxDEV(CertificateTemplate, {\n        participantName: certData.participantName,\n        teamName: certData.teamName,\n        eventName: certData.eventName,\n        dateText: certData.dateText,\n        organizerText: certData.organizerText,\n        awardText: certData.awardText,\n        accentColor: '#111827',\n        primaryColor: '#2563EB',\n        bgPattern: '',\n        issuerName: 'GMRIT',\n        logoUrl: '',\n        headerLogoUrl: '/images/gmrit_logo.png',\n        showSeal: true,\n        sealSize: 84,\n        sealText: 'Official',\n        downloadBaseName: `${certData.eventName.replace(/\\s+/g, '_')}_${certData.participantName.replace(/\\s+/g, '_')}`,\n        certificateId: certData.certificateId,\n        verifyUrl: '',\n        eventTimings: certData.eventTimings,\n        courseMeta: {\n          level: ''\n        },\n        leftSigner: {\n          name: certData.leftSigner,\n          title: 'Instructor / Director'\n        },\n        rightSigner: {\n          name: certData.rightSigner,\n          title: 'Registrar / Authorized Signatory'\n        },\n        showQR: false,\n        showActions: !certData.__fromQuery\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(CertificateView, \"dUeuh7i2uh7S44l/3VlI5+Px+gQ=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = CertificateView;\nexport default CertificateView;\nvar _c;\n$RefreshReg$(_c, \"CertificateView\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useLocation","CertificateTemplate","jsxDEV","_jsxDEV","CertificateView","_s","navigate","location","certData","setCertData","params","URLSearchParams","search","b64","get","json","atob","parsed","JSON","parse","__fromQuery","e","data","sessionStorage","getItem","style","display","alignItems","justifyContent","minHeight","children","fileName","_jsxFileName","lineNumber","columnNumber","className","participantName","teamName","eventName","dateText","organizerText","awardText","accentColor","primaryColor","bgPattern","issuerName","logoUrl","headerLogoUrl","showSeal","sealSize","sealText","downloadBaseName","replace","certificateId","verifyUrl","eventTimings","courseMeta","level","leftSigner","name","title","rightSigner","showQR","showActions","_c","$RefreshReg$"],"sources":["C:/Users/sairi/Desktop/main_project/frontend/src/pages/CertificateView.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport CertificateTemplate from '../components/CertificateTemplate';\nimport './CertificateView.css';\n\nconst CertificateView = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [certData, setCertData] = useState(null);\n\n  useEffect(() => {\n    // 1) Try URL query param `data` (base64-encoded JSON)\n    try {\n      const params = new URLSearchParams(location.search);\n      const b64 = params.get('data');\n      if (b64) {\n        const json = atob(b64);\n        const parsed = JSON.parse(json);\n        setCertData({ ...parsed, __fromQuery: true });\n        return;\n      }\n    } catch (e) {\n      // fall back to sessionStorage\n    }\n\n    // 2) Fallback: sessionStorage\n    try {\n      const data = sessionStorage.getItem('certificateData');\n      if (data) {\n        setCertData(JSON.parse(data));\n        return;\n      }\n    } catch (e) {\n      // ignore and navigate\n    }\n    navigate('/my-events');\n  }, [navigate, location.search]);\n\n  if (!certData) {\n    return (\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', minHeight: '100vh' }}>\n        <p>Loading certificate...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"certificate-view-page\">\n      <div className=\"certificate-view-container\">\n        <CertificateTemplate\n          participantName={certData.participantName}\n          teamName={certData.teamName}\n          eventName={certData.eventName}\n          dateText={certData.dateText}\n          organizerText={certData.organizerText}\n          awardText={certData.awardText}\n          accentColor={'#111827'}\n          primaryColor={'#2563EB'}\n          bgPattern={''}\n          issuerName={'GMRIT'}\n          logoUrl={''}\n          headerLogoUrl={'/images/gmrit_logo.png'}\n          showSeal={true}\n          sealSize={84}\n          sealText={'Official'}\n          downloadBaseName={`${certData.eventName.replace(/\\s+/g,'_')}_${certData.participantName.replace(/\\s+/g,'_')}`}\n          certificateId={certData.certificateId}\n          verifyUrl={''}\n          eventTimings={certData.eventTimings}\n          courseMeta={{ level: '' }}\n          leftSigner={{ name: certData.leftSigner, title: 'Instructor / Director' }}\n          rightSigner={{ name: certData.rightSigner, title: 'Registrar / Authorized Signatory' }}\n          showQR={false}\n          showActions={!certData.__fromQuery}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default CertificateView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}