<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="600" viewBox="0 0 1200 600" role="img" aria-label="Functional user flow diagram">
  <title>Figure 2: Functional User Flow</title>
  <desc>Discover → Event Details → Registration → Checkout → Payment → Confirmation, with API call annotations.</desc>
  <rect width="100%" height="100%" fill="#ffffff"/>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="6" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#334155"/>
    </marker>
    <marker id="darrow" markerWidth="10" markerHeight="10" refX="6" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#94a3b8"/>
    </marker>
  </defs>

  <!-- Nodes -->
  <rect x="60" y="120" width="200" height="80" rx="10" fill="#ecfeff" stroke="#06b6d4"/>
  <text x="160" y="160" text-anchor="middle" font-family="Arial" font-size="14">Discover</text>
  <text x="160" y="178" text-anchor="middle" font-family="Arial" font-size="11">Search, Stepcone</text>

  <rect x="300" y="120" width="220" height="100" rx="10" fill="#f0fdf4" stroke="#10b981"/>
  <text x="410" y="155" text-anchor="middle" font-family="Arial" font-size="14">Event Details</text>
  <text x="410" y="175" text-anchor="middle" font-family="Arial" font-size="11">Breadcrumbs, Countdown, FAQ, Share, Similar</text>

  <rect x="560" y="120" width="180" height="80" rx="10" fill="#f8fafc" stroke="#cbd5e1"/>
  <text x="650" y="160" text-anchor="middle" font-family="Arial" font-size="14">Registration</text>

  <rect x="770" y="120" width="200" height="90" rx="10" fill="#fefce8" stroke="#f59e0b"/>
  <text x="870" y="155" text-anchor="middle" font-family="Arial" font-size="14">Checkout</text>
  <text x="870" y="175" text-anchor="middle" font-family="Arial" font-size="11">Form + Sticky Summary</text>

  <rect x="1000" y="120" width="140" height="80" rx="10" fill="#eef2ff" stroke="#6366f1"/>
  <text x="1070" y="160" text-anchor="middle" font-family="Arial" font-size="14">Payment</text>

  <rect x="770" y="270" width="370" height="80" rx="10" fill="#fff7ed" stroke="#fb923c"/>
  <text x="955" y="310" text-anchor="middle" font-family="Arial" font-size="14">Confirmation</text>
  <text x="955" y="328" text-anchor="middle" font-family="Arial" font-size="11">Add to Calendar, Share</text>

  <!-- Arrows -->
  <line x1="260" y1="160" x2="300" y2="160" stroke="#334155" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="520" y1="160" x2="560" y2="160" stroke="#334155" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="740" y1="160" x2="770" y2="160" stroke="#334155" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="970" y1="160" x2="1000" y2="160" stroke="#334155" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="1070" y1="200" x2="955" y2="270" stroke="#334155" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- API call annotations -->
  <text x="160" y="220" text-anchor="middle" font-family="Arial" font-size="11" fill="#64748b">GET /events?q=...</text>
  <text x="410" y="235" text-anchor="middle" font-family="Arial" font-size="11" fill="#64748b">GET /events/:id</text>
  <text x="410" y="252" text-anchor="middle" font-family="Arial" font-size="11" fill="#64748b">GET /events?dept=... (similar)</text>
  <text x="870" y="225" text-anchor="middle" font-family="Arial" font-size="11" fill="#64748b">POST /registrations</text>
  <text x="1070" y="225" text-anchor="middle" font-family="Arial" font-size="11" fill="#64748b">POST /payments/create</text>
</svg>
