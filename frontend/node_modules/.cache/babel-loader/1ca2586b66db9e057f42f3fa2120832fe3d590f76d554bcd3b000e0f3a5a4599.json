{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sairi\\\\Desktop\\\\main_project\\\\frontend\\\\src\\\\pages\\\\AdminDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport api from '../utils/api';\nimport toast from 'react-hot-toast';\nimport { useNavigate } from 'react-router-dom';\nimport '../components/SkeletonCard/SkeletonCard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst emptyEvent = {\n  name: '',\n  description: '',\n  date: '',\n  time: '',\n  location: '',\n  imageUrl: '',\n  isMainEvent: true,\n  parentEvent: '',\n  department: '',\n  registrationDetails: {\n    feePerHead: 0,\n    teamParticipation: false,\n    teamSize: {\n      type: 'individual',\n      value: 1,\n      minValue: 1,\n      maxValue: 1\n    }\n  }\n};\nconst AdminDashboard = () => {\n  _s();\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [q, setQ] = useState('');\n  const navigate = useNavigate();\n  const [stats, setStats] = useState(null);\n  const [subEventCounts, setSubEventCounts] = useState({});\n  const load = async () => {\n    try {\n      setLoading(true);\n      const {\n        data\n      } = await api.get('/api/events?isMainEvent=true');\n      setEvents(data);\n    } catch (e) {\n      toast.error('Failed to load events');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // (Basic registration is configured in the Event form, not here)\n\n  useEffect(() => {\n    load();\n  }, []);\n\n  // After events load, fetch sub-event counts so we can decide whether to show\n  // the \"View Sub Events\" button. We only fetch for visible main events here.\n  useEffect(() => {\n    const fetchCounts = async () => {\n      try {\n        const ids = (events || []).map(e => e._id);\n        await Promise.all(ids.map(async id => {\n          if (subEventCounts[id] !== undefined) return; // already fetched\n          try {\n            const {\n              data\n            } = await api.get(`/api/events/${id}/sub-events`);\n            setSubEventCounts(m => ({\n              ...m,\n              [id]: Array.isArray(data) ? data.length : 0\n            }));\n          } catch (_) {\n            setSubEventCounts(m => ({\n              ...m,\n              [id]: 0\n            }));\n          }\n        }));\n      } catch (_) {}\n    };\n    if (events && events.length) fetchCounts();\n  }, [events]);\n  const filtered = useMemo(() => {\n    if (!q) return events;\n    const s = q.toLowerCase();\n    return events.filter(ev => `${ev.name} ${ev.description} ${ev.location}`.toLowerCase().includes(s));\n  }, [q, events]);\n  const goNew = (parentId = null) => {\n    if (parentId) navigate(`/admin/events/new?parent=${parentId}`);else navigate('/admin/events/new');\n  };\n  const goEdit = id => navigate(`/admin/events/${id}/edit`);\n\n  // form/page handled in AdminEventForm.jsx\n\n  const remove = async id => {\n    if (!window.confirm('Delete this event?')) return;\n    try {\n      await api.delete(`/api/events/${id}`);\n      toast.success('Event deleted');\n      await load();\n    } catch (err) {\n      toast.error('Delete failed');\n    }\n  };\n  const loadStats = async eventId => {\n    try {\n      const {\n        data\n      } = await api.get('/api/registrations/stats', {\n        params: {\n          eventId\n        }\n      });\n      setStats(data);\n    } catch (e) {\n      toast.error('Failed to load stats');\n    }\n  };\n  const [subEventsMap, setSubEventsMap] = useState({});\n  const [openSubs, setOpenSubs] = useState({}); // track which main event's sub-events are visible\n  const loadSubEvents = async id => {\n    try {\n      const {\n        data\n      } = await api.get(`/api/events/${id}/sub-events`);\n      setSubEventsMap(m => ({\n        ...m,\n        [id]: data\n      }));\n    } catch {}\n  };\n  const onToggleSubEvents = id => {\n    setOpenSubs(m => {\n      const next = {\n        ...m,\n        [id]: !m[id]\n      };\n      return next;\n    });\n    // if opening and not yet loaded, fetch once\n    if (!openSubs[id] && !subEventsMap[id]) {\n      loadSubEvents(id);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Admin Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Manage main events and their sub-events. Create, edit, delete, and view registrations.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 12,\n        alignItems: 'center',\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-secondary\",\n        onClick: () => goNew(null),\n        children: \"Add New Main Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Search events by name, description, or location...\",\n        value: q,\n        onChange: e => setQ(e.target.value),\n        style: {\n          flex: 1,\n          padding: 10,\n          border: '1px solid #e5e7eb',\n          borderRadius: 8\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid\",\n      children: Array.from({\n        length: 4\n      }).map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          padding: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton-line skeleton-line-lg\",\n          style: {\n            width: '40%',\n            height: 24\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton-line\",\n          style: {\n            width: '90%',\n            marginTop: 10\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton-line\",\n          style: {\n            width: '85%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton-line\",\n          style: {\n            width: '80%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 15\n        }, this)]\n      }, `sk-admin-dash-${i}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }, this), filtered.map(ev => {\n      var _ev$description;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          padding: 16,\n          marginBottom: 28\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-card-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: ev.imageUrl || 'https://via.placeholder.com/400x250?text=Event',\n            alt: ev.name,\n            style: {\n              width: '100%',\n              height: 160,\n              objectFit: 'cover',\n              borderRadius: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: ev.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), ev.department && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Department: \", ev.department]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 33\n            }, this), ev.date && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Date: \", new Date(ev.date).toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 27\n            }, this), ev.time && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Time: \", ev.time]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 27\n            }, this), ev.location && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Location: \", ev.location]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 31\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"muted\",\n              children: [(_ev$description = ev.description) === null || _ev$description === void 0 ? void 0 : _ev$description.slice(0, 120), (ev.description || '').length > 120 ? '…' : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: 8,\n                flexWrap: 'wrap',\n                marginTop: 8\n              },\n              children: [subEventCounts[ev._id] > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-secondary\",\n                onClick: () => onToggleSubEvents(ev._id),\n                children: openSubs[ev._id] ? 'Hide Sub Events ▴' : 'View Sub Events ▾'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-secondary\",\n                onClick: () => goNew(ev._id),\n                children: \"Add Sub-Event\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this), ev.isMainEvent ? ev.basicRegistrationEnabled ? /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-secondary\",\n                onClick: () => navigate(`/admin/events/${ev._id}/registrations`),\n                children: \"View Registrations\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 21\n              }, this) : null : /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-secondary\",\n                onClick: () => navigate(`/admin/events/${ev._id}/registrations`),\n                children: \"View Registrations\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-secondary\",\n                onClick: () => goEdit(ev._id),\n                style: {\n                  background: '#06b6d4'\n                },\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-secondary\",\n                onClick: () => remove(ev._id),\n                style: {\n                  background: '#ef4444'\n                },\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this), openSubs[ev._id] && subEventsMap[ev._id] && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 12\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Sub Events\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid\",\n                children: subEventsMap[ev._id].map(se => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card\",\n                  style: {\n                    padding: 12\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: se.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [new Date(se.date).toLocaleDateString(), \" \\u2022 \", se.time]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: se.location\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      gap: 6,\n                      marginTop: 8\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn-secondary\",\n                      onClick: () => navigate(`/admin/events/${se._id}/registrations`),\n                      children: \"View Registrations\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn-secondary\",\n                      onClick: () => goEdit(se._id),\n                      style: {\n                        background: '#06b6d4'\n                      },\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn-secondary\",\n                      onClick: () => remove(se._id),\n                      style: {\n                        background: '#ef4444'\n                      },\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 185,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 25\n                  }, this)]\n                }, se._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)\n      }, ev._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this);\n    }), stats && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        padding: 16,\n        marginTop: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Registrations Overview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"nav-link\",\n          onClick: () => setStats(null),\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            padding: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"By Gender\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: stats.byGender.map(x => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [x.label || 'Unknown', \": \", x.count]\n            }, x.label || 'unknown', true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 44\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            padding: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"By Year\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: stats.byYear.map(x => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [x.label || 'Unknown', \": \", x.count]\n            }, x.label || 'unknown', true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 42\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            padding: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"By Department\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: stats.byDepartment.map(x => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [x.label || 'Unknown', \": \", x.count]\n            }, x.label || 'unknown', true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 48\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            padding: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"By Day\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: stats.byDay.map(x => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [x.date, \": \", x.count]\n            }, x.date, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"T54tFL3SO63OsWKerd4jWoXHoVU=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","api","toast","useNavigate","jsxDEV","_jsxDEV","emptyEvent","name","description","date","time","location","imageUrl","isMainEvent","parentEvent","department","registrationDetails","feePerHead","teamParticipation","teamSize","type","value","minValue","maxValue","AdminDashboard","_s","events","setEvents","loading","setLoading","q","setQ","navigate","stats","setStats","subEventCounts","setSubEventCounts","load","data","get","e","error","fetchCounts","ids","map","_id","Promise","all","id","undefined","m","Array","isArray","length","_","filtered","s","toLowerCase","filter","ev","includes","goNew","parentId","goEdit","remove","window","confirm","delete","success","err","loadStats","eventId","params","subEventsMap","setSubEventsMap","openSubs","setOpenSubs","loadSubEvents","onToggleSubEvents","next","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","gap","alignItems","marginBottom","onClick","placeholder","onChange","target","flex","padding","border","borderRadius","from","i","width","height","marginTop","_ev$description","src","alt","objectFit","Date","toLocaleDateString","slice","flexWrap","basicRegistrationEnabled","background","se","justifyContent","byGender","x","label","count","byYear","byDepartment","byDay","_c","$RefreshReg$"],"sources":["C:/Users/sairi/Desktop/main_project/frontend/src/pages/AdminDashboard.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport api from '../utils/api';\nimport toast from 'react-hot-toast';\nimport { useNavigate } from 'react-router-dom';\nimport '../components/SkeletonCard/SkeletonCard.css';\n\nconst emptyEvent = {\n  name: '',\n  description: '',\n  date: '',\n  time: '',\n  location: '',\n  imageUrl: '',\n  isMainEvent: true,\n  parentEvent: '',\n  department: '',\n  registrationDetails: {\n    feePerHead: 0,\n    teamParticipation: false,\n    teamSize: { type: 'individual', value: 1, minValue: 1, maxValue: 1 },\n  },\n};\n\nconst AdminDashboard = () => {\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [q, setQ] = useState('');\n  const navigate = useNavigate();\n  const [stats, setStats] = useState(null);\n  const [subEventCounts, setSubEventCounts] = useState({});\n\n  const load = async () => {\n    try {\n      setLoading(true);\n      const { data } = await api.get('/api/events?isMainEvent=true');\n      setEvents(data);\n    } catch (e) {\n      toast.error('Failed to load events');\n    } finally { setLoading(false); }\n  };\n\n  // (Basic registration is configured in the Event form, not here)\n\n  useEffect(() => { load(); }, []);\n\n  // After events load, fetch sub-event counts so we can decide whether to show\n  // the \"View Sub Events\" button. We only fetch for visible main events here.\n  useEffect(() => {\n    const fetchCounts = async () => {\n      try {\n        const ids = (events || []).map(e => e._id);\n        await Promise.all(ids.map(async (id) => {\n          if (subEventCounts[id] !== undefined) return; // already fetched\n          try {\n            const { data } = await api.get(`/api/events/${id}/sub-events`);\n            setSubEventCounts((m) => ({ ...m, [id]: Array.isArray(data) ? data.length : 0 }));\n          } catch (_) {\n            setSubEventCounts((m) => ({ ...m, [id]: 0 }));\n          }\n        }));\n      } catch (_) {}\n    };\n    if (events && events.length) fetchCounts();\n  }, [events]);\n\n  const filtered = useMemo(() => {\n    if (!q) return events;\n    const s = q.toLowerCase();\n    return events.filter(ev => `${ev.name} ${ev.description} ${ev.location}`.toLowerCase().includes(s));\n  }, [q, events]);\n\n  const goNew = (parentId = null) => {\n    if (parentId) navigate(`/admin/events/new?parent=${parentId}`);\n    else navigate('/admin/events/new');\n  };\n\n  const goEdit = (id) => navigate(`/admin/events/${id}/edit`);\n\n  // form/page handled in AdminEventForm.jsx\n\n  const remove = async (id) => {\n    if (!window.confirm('Delete this event?')) return;\n    try {\n      await api.delete(`/api/events/${id}`);\n      toast.success('Event deleted');\n      await load();\n    } catch (err) {\n      toast.error('Delete failed');\n    }\n  };\n\n  const loadStats = async (eventId) => {\n    try {\n      const { data } = await api.get('/api/registrations/stats', { params: { eventId } });\n      setStats(data);\n    } catch (e) {\n      toast.error('Failed to load stats');\n    }\n  };\n\n  const [subEventsMap, setSubEventsMap] = useState({});\n  const [openSubs, setOpenSubs] = useState({}); // track which main event's sub-events are visible\n  const loadSubEvents = async (id) => {\n    try {\n      const { data } = await api.get(`/api/events/${id}/sub-events`);\n      setSubEventsMap(m => ({ ...m, [id]: data }));\n    } catch {}\n  };\n\n  const onToggleSubEvents = (id) => {\n    setOpenSubs((m) => {\n      const next = { ...m, [id]: !m[id] };\n      return next;\n    });\n    // if opening and not yet loaded, fetch once\n    if (!openSubs[id] && !subEventsMap[id]) {\n      loadSubEvents(id);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h2>Admin Dashboard</h2>\n      <p>Manage main events and their sub-events. Create, edit, delete, and view registrations.</p>\n\n      <div style={{display:'flex', gap:12, alignItems:'center', marginBottom:12}}>\n        <button className=\"btn-secondary\" onClick={() => goNew(null)}>Add New Main Event</button>\n        <input placeholder=\"Search events by name, description, or location...\" value={q} onChange={(e)=>setQ(e.target.value)} style={{flex:1, padding:10, border:'1px solid #e5e7eb', borderRadius:8}} />\n      </div>\n\n      {loading && (\n        <div className=\"grid\">\n          {Array.from({ length: 4 }).map((_, i) => (\n            <div className=\"card\" key={`sk-admin-dash-${i}`} style={{ padding: 16 }}>\n              <div className=\"skeleton-line skeleton-line-lg\" style={{ width: '40%', height: 24 }} />\n              <div className=\"skeleton-line\" style={{ width: '90%', marginTop: 10 }} />\n              <div className=\"skeleton-line\" style={{ width: '85%' }} />\n              <div className=\"skeleton-line\" style={{ width: '80%' }} />\n            </div>\n          ))}\n        </div>\n      )}\n\n      {filtered.map(ev => (\n        <div className=\"card\" key={ev._id} style={{ padding:16, marginBottom:28 }}>\n          <div className=\"admin-card-grid\">\n            <img src={ev.imageUrl || 'https://via.placeholder.com/400x250?text=Event'} alt={ev.name} style={{width:'100%', height:160, objectFit:'cover', borderRadius:8}} />\n            <div>\n              <h3>{ev.name}</h3>\n              {ev.department && <p>Department: {ev.department}</p>}\n              {ev.date && <p>Date: {new Date(ev.date).toLocaleDateString()}</p>}\n              {ev.time && <p>Time: {ev.time}</p>}\n              {ev.location && <p>Location: {ev.location}</p>}\n              <p className=\"muted\">{ev.description?.slice(0,120)}{(ev.description||'').length>120?'…':''}</p>\n              <div style={{display:'flex', gap:8, flexWrap:'wrap', marginTop:8}}>\n                {subEventCounts[ev._id] > 0 && (\n                  <button className=\"btn-secondary\" onClick={() => onToggleSubEvents(ev._id)}>\n                    {openSubs[ev._id] ? 'Hide Sub Events ▴' : 'View Sub Events ▾'}\n                  </button>\n                )}\n                <button className=\"btn-secondary\" onClick={() => goNew(ev._id)}>Add Sub-Event</button>\n                {/* For main events, show View Registrations only if basic registration is enabled */}\n                {ev.isMainEvent ? (\n                  ev.basicRegistrationEnabled ? (\n                    <button className=\"btn-secondary\" onClick={() => navigate(`/admin/events/${ev._id}/registrations`)}>View Registrations</button>\n                  ) : null\n                ) : (\n                  <button className=\"btn-secondary\" onClick={() => navigate(`/admin/events/${ev._id}/registrations`)}>View Registrations</button>\n                )}\n                <button className=\"btn-secondary\" onClick={() => goEdit(ev._id)} style={{background:'#06b6d4'}}>Edit</button>\n                <button className=\"btn-secondary\" onClick={() => remove(ev._id)} style={{background:'#ef4444'}}>Delete</button>\n              </div>\n              {openSubs[ev._id] && subEventsMap[ev._id] && (\n                <div style={{marginTop:12}}>\n                  <h4>Sub Events</h4>\n                  <div className=\"grid\">\n                    {subEventsMap[ev._id].map(se => (\n                      <div key={se._id} className=\"card\" style={{padding:12}}>\n                        <strong>{se.name}</strong>\n                        <div>{new Date(se.date).toLocaleDateString()} • {se.time}</div>\n                        <div>{se.location}</div>\n                        <div style={{display:'flex', gap:6, marginTop:8}}>\n                          <button className=\"btn-secondary\" onClick={() => navigate(`/admin/events/${se._id}/registrations`)}>View Registrations</button>\n                          <button className=\"btn-secondary\" onClick={() => goEdit(se._id)} style={{background:'#06b6d4'}}>Edit</button>\n                          <button className=\"btn-secondary\" onClick={() => remove(se._id)} style={{background:'#ef4444'}}>Delete</button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      ))}\n\n      {/* Add/Edit handled via dedicated pages */}\n\n      {stats && (\n        <div className=\"card\" style={{padding:16, marginTop:16}}>\n          <div style={{display:'flex', justifyContent:'space-between'}}>\n            <h3>Registrations Overview</h3>\n            <button className=\"nav-link\" onClick={()=>setStats(null)}>✕</button>\n          </div>\n          <div className=\"grid\">\n            <div className=\"card\" style={{padding:12}}>\n              <h4>By Gender</h4>\n              <ul>\n                {stats.byGender.map((x)=> (<li key={x.label || 'unknown'}>{x.label || 'Unknown'}: {x.count}</li>))}\n              </ul>\n            </div>\n            <div className=\"card\" style={{padding:12}}>\n              <h4>By Year</h4>\n              <ul>\n                {stats.byYear.map((x)=> (<li key={x.label || 'unknown'}>{x.label || 'Unknown'}: {x.count}</li>))}\n              </ul>\n            </div>\n            <div className=\"card\" style={{padding:12}}>\n              <h4>By Department</h4>\n              <ul>\n                {stats.byDepartment.map((x)=> (<li key={x.label || 'unknown'}>{x.label || 'Unknown'}: {x.count}</li>))}\n              </ul>\n            </div>\n            <div className=\"card\" style={{padding:12}}>\n              <h4>By Day</h4>\n              <ul>\n                {stats.byDay.map((x)=> (<li key={x.date}>{x.date}: {x.count}</li>))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}