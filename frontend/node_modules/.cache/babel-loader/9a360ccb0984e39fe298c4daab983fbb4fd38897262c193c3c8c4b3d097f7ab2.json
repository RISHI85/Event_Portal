{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sairi\\\\Desktop\\\\main_project\\\\frontend\\\\src\\\\pages\\\\AdminEventForm.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\nimport toast from 'react-hot-toast';\nimport api from '../utils/api';\nimport CertificateTemplate from '../components/CertificateTemplate';\nimport './AdminEventForm.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useQuery = () => {\n  _s();\n  return new URLSearchParams(useLocation().search);\n};\n_s(useQuery, \"EuD9q2dZ34PfN/QO2OBhBzeMxmY=\", false, function () {\n  return [useLocation];\n});\nconst empty = {\n  name: '',\n  description: '',\n  date: '',\n  time: '',\n  location: '',\n  imageUrl: '',\n  isMainEvent: true,\n  parentEvent: '',\n  department: '',\n  eligibleDepartments: [],\n  categories: [],\n  // New fields\n  multiDay: false,\n  numberOfDays: 1,\n  schedule: [{\n    date: '',\n    time: ''\n  }],\n  // per-day date/time\n  hasMultipleRounds: false,\n  numberOfRounds: 1,\n  adminContacts: [{\n    name: '',\n    email: '',\n    phone: ''\n  }],\n  registrationDetails: {\n    feePerHead: 0,\n    teamParticipation: false,\n    teamSize: {\n      type: 'individual',\n      value: 1,\n      minValue: 1,\n      maxValue: 1\n    }\n  },\n  // Certificate configuration (optional)\n  certificateTemplateUrl: '',\n  certificateOrganizer: '',\n  certificateAwardText: 'Certificate of Participation'\n};\nconst AdminEventForm = () => {\n  _s2();\n  var _form$registrationDet, _form$registrationDet2, _form$registrationDet3, _form$registrationDet4, _form$registrationDet5, _form$registrationDet6, _form$registrationDet7, _form$registrationDet8, _form$registrationDet9, _form$registrationDet0;\n  const {\n    id\n  } = useParams();\n  const query = useQuery();\n  const parentFromQuery = query.get('parent') || '';\n  const navigate = useNavigate();\n  const [form, setForm] = useState(empty);\n  const [saving, setSaving] = useState(false);\n  const [uploadingImage, setUploadingImage] = useState(false);\n  const [mainEvents, setMainEvents] = useState([]);\n  const [basicRegistrationEnabled, setBasicRegistrationEnabled] = useState(false);\n  const [basicRegistrationAmount, setBasicRegistrationAmount] = useState(0);\n  const [winnerPrize, setWinnerPrize] = useState(0);\n  const [runnerPrize, setRunnerPrize] = useState(0);\n  // Separate UI-only section for Student Coordinators; merged on submit\n  const [studentContacts, setStudentContacts] = useState([{\n    name: '',\n    email: '',\n    phone: ''\n  }]);\n  const [schemaFields, setSchemaFields] = useState([]);\n  const [customFields, setCustomFields] = useState({});\n  const hasBinding = path => (schemaFields || []).some(f => (f.bindTo || '') === path);\n  const pathGet = (obj, path) => {\n    if (!path) return undefined;\n    return path.split('.').reduce((acc, key) => acc ? acc[key] : undefined, obj);\n  };\n  const pathSet = (obj, path, value) => {\n    const parts = path.split('.');\n    const o = {\n      ...obj\n    };\n    let cur = o;\n    for (let i = 0; i < parts.length - 1; i++) {\n      const k = parts[i];\n      cur[k] = typeof cur[k] === 'object' && cur[k] !== null ? {\n        ...cur[k]\n      } : {};\n      cur = cur[k];\n    }\n    cur[parts[parts.length - 1]] = value;\n    return o;\n  };\n\n  // Load main events for parent selection when adding sub-event\n  useEffect(() => {\n    const loadParents = async () => {\n      try {\n        const {\n          data\n        } = await api.get('/api/events?isMainEvent=true');\n        setMainEvents(data);\n      } catch {}\n    };\n    loadParents();\n  }, []);\n\n  // If editing, load event\n  useEffect(() => {\n    const load = async () => {\n      if (!id) {\n        // creating\n        if (parentFromQuery) setForm(f => ({\n          ...f,\n          isMainEvent: false,\n          parentEvent: parentFromQuery\n        }));\n        return;\n      }\n      try {\n        var _data$parentEvent, _data$registrationDet, _data$registrationDet2, _data$registrationDet3, _data$registrationDet4;\n        const {\n          data\n        } = await api.get(`/api/events/${id}`);\n        setForm({\n          name: data.name,\n          description: data.description || '',\n          date: data.date ? data.date.substring(0, 10) : '',\n          time: data.time || '',\n          location: data.location || '',\n          imageUrl: data.imageUrl || '',\n          isMainEvent: data.isMainEvent,\n          parentEvent: ((_data$parentEvent = data.parentEvent) === null || _data$parentEvent === void 0 ? void 0 : _data$parentEvent._id) || '',\n          department: data.department || '',\n          eligibleDepartments: Array.isArray(data.eligibleDepartments) ? data.eligibleDepartments : [],\n          categories: Array.isArray(data.categories) ? data.categories : [],\n          multiDay: !!data.multiDay,\n          numberOfDays: data.numberOfDays || 1,\n          schedule: Array.isArray(data.schedule) && data.schedule.length > 0 ? data.schedule.map(s => ({\n            date: s.date ? String(s.date).slice(0, 10) : '',\n            time: s.time || ''\n          })) : [{\n            date: data.date ? data.date.substring(0, 10) : '',\n            time: data.time || ''\n          }],\n          hasMultipleRounds: !!data.hasMultipleRounds,\n          numberOfRounds: data.numberOfRounds || 1,\n          adminContacts: Array.isArray(data.adminContacts) && data.adminContacts.length > 0 ? data.adminContacts.map(c => ({\n            name: c.name || '',\n            email: c.email || '',\n            phone: c.phone || ''\n          })) : [{\n            name: '',\n            email: '',\n            phone: ''\n          }],\n          registrationDetails: {\n            feePerHead: (_data$registrationDet = (_data$registrationDet2 = data.registrationDetails) === null || _data$registrationDet2 === void 0 ? void 0 : _data$registrationDet2.feePerHead) !== null && _data$registrationDet !== void 0 ? _data$registrationDet : 0,\n            teamParticipation: !!((_data$registrationDet3 = data.registrationDetails) !== null && _data$registrationDet3 !== void 0 && _data$registrationDet3.teamParticipation),\n            teamSize: ((_data$registrationDet4 = data.registrationDetails) === null || _data$registrationDet4 === void 0 ? void 0 : _data$registrationDet4.teamSize) || {\n              type: 'individual',\n              value: 1,\n              minValue: 1,\n              maxValue: 1\n            }\n          },\n          certificateTemplateUrl: data.certificateTemplateUrl || '',\n          certificateOrganizer: data.certificateOrganizer || '',\n          certificateAwardText: data.certificateAwardText || 'Certificate of Participation'\n        });\n        // For edit mode, prefill student contacts as empty section (not stored separately in backend)\n        setStudentContacts([{\n          name: '',\n          email: '',\n          phone: ''\n        }]);\n        setBasicRegistrationEnabled(!!data.basicRegistrationEnabled);\n        setBasicRegistrationAmount(Number(data.basicRegistrationAmount || 0));\n        setWinnerPrize(Number(data.winnerPrize || 0));\n        setRunnerPrize(Number(data.runnerPrize || 0));\n        const cf = data.customFields && typeof data.customFields === 'object' ? data.customFields : {};\n        setCustomFields(cf);\n      } catch (e) {\n        toast.error('Failed to load event');\n      }\n    };\n    load();\n  }, [id, parentFromQuery]);\n  useEffect(() => {\n    const loadSchema = async () => {\n      try {\n        const {\n          data\n        } = await api.get('/api/form-schema');\n        const fields = Array.isArray(data === null || data === void 0 ? void 0 : data.fields) ? data.fields : [];\n        const ordered = [...fields].sort((a, b) => (a.order || 0) - (b.order || 0));\n        setSchemaFields(ordered);\n      } catch {}\n    };\n    loadSchema();\n  }, []);\n  const uploadImage = async file => {\n    // Validate file type\n    if (!file.type.match('image.*')) {\n      throw new Error('Only image files are allowed');\n    }\n\n    // Validate file size (5MB max)\n    const maxSize = 5 * 1024 * 1024; // 5MB\n    if (file.size > maxSize) {\n      throw new Error('Image size should be less than 5MB');\n    }\n    const fd = new FormData();\n    fd.append('image', file);\n    try {\n      const {\n        data\n      } = await api.post('/api/upload/image', fd, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      return data.imageUrl;\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Image upload failed:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to upload image. Please try again.';\n      throw new Error(errorMessage);\n    }\n  };\n  const onSubmit = async e => {\n    e.preventDefault();\n    setSaving(true);\n    try {\n      const payload = {\n        ...form\n      };\n      // Merge faculty(adminContacts) and studentContacts into a single adminContacts array for backend\n      const clean = c => c && (c.name || c.email || c.phone);\n      const mergedContacts = [...(form.adminContacts || []).filter(clean), ...(studentContacts || []).filter(clean)];\n      payload.adminContacts = mergedContacts.length ? mergedContacts : [{\n        name: '',\n        email: '',\n        phone: ''\n      }];\n      payload.registrationDetails = {\n        ...payload.registrationDetails,\n        feePerHead: Number(payload.registrationDetails.feePerHead || 0),\n        teamParticipation: !!payload.registrationDetails.teamParticipation\n      };\n\n      // Normalize team size object\n      const ts = payload.registrationDetails.teamSize || {\n        type: 'individual',\n        value: 1,\n        minValue: 1,\n        maxValue: 1\n      };\n      if (!payload.registrationDetails.teamParticipation) {\n        payload.registrationDetails.teamSize = {\n          type: 'individual',\n          value: 1,\n          minValue: 1,\n          maxValue: 1\n        };\n      } else {\n        // Ensure numeric fields are numbers and sane\n        const num = v => {\n          const n = Number(v);\n          return Number.isFinite(n) ? n : 1;\n        };\n        if (ts.type === 'fixed') {\n          payload.registrationDetails.teamSize = {\n            type: 'fixed',\n            value: num(ts.value),\n            minValue: num(ts.value),\n            maxValue: num(ts.value)\n          };\n        } else if (ts.type === 'range') {\n          payload.registrationDetails.teamSize = {\n            type: 'range',\n            minValue: num(ts.minValue),\n            maxValue: num(ts.maxValue)\n          };\n        } else if (ts.type === 'at_most') {\n          payload.registrationDetails.teamSize = {\n            type: 'at_most',\n            minValue: 1,\n            maxValue: num(ts.maxValue)\n          };\n        } else if (ts.type === 'at_least') {\n          payload.registrationDetails.teamSize = {\n            type: 'at_least',\n            minValue: num(ts.minValue),\n            maxValue: num(ts.maxValue || ts.minValue)\n          };\n        } else {\n          payload.registrationDetails.teamSize = {\n            type: 'individual',\n            value: 1,\n            minValue: 1,\n            maxValue: 1\n          };\n        }\n      }\n\n      // sanitize parent on client too\n      if (payload.isMainEvent) payload.parentEvent = '';\n\n      // Ensure certificate fields are strings\n      payload.certificateTemplateUrl = String(payload.certificateTemplateUrl || '');\n      payload.certificateOrganizer = String(payload.certificateOrganizer || '');\n      payload.certificateAwardText = String(payload.certificateAwardText || 'Certificate of Participation');\n\n      // Basic registration fields (main events only)\n      payload.basicRegistrationEnabled = !!basicRegistrationEnabled;\n      payload.basicRegistrationAmount = Number(basicRegistrationAmount || 0);\n\n      // Prize money fields\n      payload.winnerPrize = Number(winnerPrize || 0);\n      payload.runnerPrize = Number(runnerPrize || 0);\n      payload.customFields = customFields && typeof customFields === 'object' ? customFields : {};\n      if (id) {\n        await api.put(`/api/events/${id}`, payload);\n        toast.success('Event updated');\n      } else {\n        await api.post('/api/events', payload);\n        toast.success('Event created');\n      }\n      navigate('/admin');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      toast.error(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Save failed');\n    } finally {\n      setSaving(false);\n    }\n  };\n  const eventType = useMemo(() => {\n    if (form.isMainEvent) return 'main';\n    if (form.parentEvent) return 'sub';\n    return 'department';\n  }, [form.isMainEvent, form.parentEvent]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-form-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-form-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '0 24px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"admin-form-back\",\n          onClick: () => navigate('/admin'),\n          children: \"\\u2190 Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"admin-form-title\",\n          children: id ? 'Edit Event' : 'Create New Event'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-form-subtitle\",\n          children: id ? 'Update event details and configuration' : 'Fill in the details below to create a new event'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"admin-form\",\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-form-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"card-like\",\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"\\uD83D\\uDCCB Basic Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), !hasBinding('name') && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Event Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Enter event name\",\n              value: form.name,\n              onChange: e => setForm({\n                ...form,\n                name: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), !hasBinding('description') && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Description (Point-wise)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              placeholder: \"Enter description with bullet points \\u2022 Point 1 \\u2022 Point 2 \\u2022 Point 3\",\n              value: form.description,\n              onChange: e => setForm({\n                ...form,\n                description: e.target.value\n              }),\n              rows: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"muted\",\n              children: \"Use bullet points for better readability\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row-2col\",\n            children: [!hasBinding('date') && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: form.date,\n                onChange: e => setForm({\n                  ...form,\n                  date: e.target.value\n                }),\n                required: !form.isMainEvent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this), !hasBinding('time') && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"e.g., 10:00 AM - 12:00 PM\",\n                value: form.time,\n                onChange: e => setForm({\n                  ...form,\n                  time: e.target.value\n                }),\n                required: !form.isMainEvent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), !hasBinding('location') && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Enter location\",\n              value: form.location,\n              onChange: e => setForm({\n                ...form,\n                location: e.target.value\n              }),\n              required: !form.isMainEvent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 8,\n              marginTop: 16\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: !!form.multiDay,\n              onChange: e => {\n                const checked = e.target.checked;\n                setForm(f => ({\n                  ...f,\n                  multiDay: checked,\n                  numberOfDays: checked ? Math.max(1, Number(f.numberOfDays || 2)) : 1,\n                  schedule: checked ? f.schedule && f.schedule.length > 0 ? f.schedule : [{\n                    date: f.date,\n                    time: f.time\n                  }] : [{\n                    date: f.date,\n                    time: f.time\n                  }]\n                }));\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), \"Multi-day event?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), form.multiDay && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Number of Days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 1,\n              value: form.numberOfDays,\n              onChange: e => {\n                const n = Math.max(1, Number(e.target.value || 1));\n                setForm(f => {\n                  const sched = Array.isArray(f.schedule) ? [...f.schedule] : [];\n                  while (sched.length < n) sched.push({\n                    date: '',\n                    time: ''\n                  });\n                  if (sched.length > n) sched.length = n;\n                  return {\n                    ...f,\n                    numberOfDays: n,\n                    schedule: sched\n                  };\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this), Array.from({\n              length: Math.max(1, Number(form.numberOfDays || 1))\n            }).map((_, i) => {\n              var _form$schedule, _form$schedule$i, _form$schedule2, _form$schedule2$i;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-grid\",\n                style: {\n                  border: '1px solid #eee',\n                  padding: 10,\n                  borderRadius: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"Day \", i + 1, \" Date\", /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    value: ((_form$schedule = form.schedule) === null || _form$schedule === void 0 ? void 0 : (_form$schedule$i = _form$schedule[i]) === null || _form$schedule$i === void 0 ? void 0 : _form$schedule$i.date) || '',\n                    onChange: e => {\n                      const v = e.target.value;\n                      setForm(f => {\n                        const sched = Array.isArray(f.schedule) ? [...f.schedule] : [];\n                        while (sched.length <= i) sched.push({\n                          date: '',\n                          time: ''\n                        });\n                        sched[i] = {\n                          ...sched[i],\n                          date: v\n                        };\n                        return {\n                          ...f,\n                          schedule: sched\n                        };\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"Day \", i + 1, \" Time\", /*#__PURE__*/_jsxDEV(\"input\", {\n                    value: ((_form$schedule2 = form.schedule) === null || _form$schedule2 === void 0 ? void 0 : (_form$schedule2$i = _form$schedule2[i]) === null || _form$schedule2$i === void 0 ? void 0 : _form$schedule2$i.time) || '',\n                    placeholder: \"e.g., 10:00 AM - 12:00 PM\",\n                    onChange: e => {\n                      const v = e.target.value;\n                      setForm(f => {\n                        const sched = Array.isArray(f.schedule) ? [...f.schedule] : [];\n                        while (sched.length <= i) sched.push({\n                          date: '',\n                          time: ''\n                        });\n                        sched[i] = {\n                          ...sched[i],\n                          time: v\n                        };\n                        return {\n                          ...f,\n                          schedule: sched\n                        };\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 21\n                }, this)]\n              }, `day-${i}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this);\n            })]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), schemaFields && schemaFields.length > 0 && /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"card-like\",\n          style: {\n            marginTop: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"Event Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this), schemaFields.map((fld, idx) => {\n            var _pathGet, _customFields$k;\n            const k = fld.key;\n            const boundPath = fld.bindTo || '';\n            const isBound = !!boundPath;\n            const value = isBound ? (_pathGet = pathGet(form, boundPath)) !== null && _pathGet !== void 0 ? _pathGet : fld.type === 'checkbox' ? false : '' : (_customFields$k = customFields === null || customFields === void 0 ? void 0 : customFields[k]) !== null && _customFields$k !== void 0 ? _customFields$k : '';\n            const commonInput = (type, extraProps = {}) => /*#__PURE__*/_jsxDEV(\"input\", {\n              type: type,\n              value: type === 'checkbox' ? undefined : value,\n              checked: type === 'checkbox' ? !!value : undefined,\n              required: !!fld.required,\n              onChange: e => {\n                const v = type === 'checkbox' ? e.target.checked : e.target.value;\n                if (isBound) setForm(prev => pathSet(prev, boundPath, v));else setCustomFields(m => ({\n                  ...m,\n                  [k]: v\n                }));\n              },\n              ...extraProps\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 19\n            }, this);\n            if (fld.type === 'text' || fld.type === 'number' || fld.type === 'date') {\n              const t = fld.type === 'text' ? fld.inputType || 'text' : fld.type;\n              return /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [fld.label, commonInput(t)]\n              }, k || idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 21\n              }, this);\n            }\n            if (fld.type === 'radio') {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginBottom: 10\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontWeight: 600,\n                    marginBottom: 6\n                  },\n                  children: fld.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"checkbox-grid\",\n                  children: (fld.options || []).map(opt => /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"checkbox-label\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"radio\",\n                      name: `schema-${k}`,\n                      checked: value === opt,\n                      onChange: () => {\n                        if (isBound) setForm(prev => pathSet(prev, boundPath, opt));else setCustomFields(m => ({\n                          ...m,\n                          [k]: opt\n                        }));\n                      },\n                      required: !!fld.required\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 417,\n                      columnNumber: 29\n                    }, this), opt]\n                  }, opt, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 23\n                }, this)]\n              }, k || idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 21\n              }, this);\n            }\n            if (fld.type === 'checkbox') {\n              return /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkbox-label\",\n                children: [commonInput('checkbox'), fld.label]\n              }, k || idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 21\n              }, this);\n            }\n            if (fld.type === 'select') {\n              return /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [fld.label, /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: value || '',\n                  onChange: e => {\n                    const v = e.target.value;\n                    if (isBound) setForm(prev => pathSet(prev, boundPath, v));else setCustomFields(m => ({\n                      ...m,\n                      [k]: v\n                    }));\n                  },\n                  required: !!fld.required,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 455,\n                    columnNumber: 25\n                  }, this), (fld.options || []).map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: opt,\n                    children: opt\n                  }, opt, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 457,\n                    columnNumber: 27\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 23\n                }, this)]\n              }, k || idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 21\n              }, this);\n            }\n            return null;\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"card-like\",\n          children: [(() => {\n            const clean = x => x && (x.name || x.email || x.phone);\n            const count = (form.adminContacts || []).filter(clean).length;\n            return /*#__PURE__*/_jsxDEV(\"legend\", {\n              children: [\"\\uD83D\\uDC65 Faculty Coordinators (Total: \", count, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 138\n            }, this);\n          })(), (form.adminContacts || []).map((c, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-grid coordinator-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Name\",\n                value: c.name,\n                onChange: e => {\n                  const v = e.target.value;\n                  setForm(f => {\n                    const arr = [...(f.adminContacts || [])];\n                    arr[i] = {\n                      ...arr[i],\n                      name: v\n                    };\n                    return {\n                      ...f,\n                      adminContacts: arr\n                    };\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Email\",\n                type: \"email\",\n                value: c.email,\n                onChange: e => {\n                  const v = e.target.value;\n                  setForm(f => {\n                    const arr = [...(f.adminContacts || [])];\n                    arr[i] = {\n                      ...arr[i],\n                      email: v\n                    };\n                    return {\n                      ...f,\n                      adminContacts: arr\n                    };\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Phone\", /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Phone\",\n                value: c.phone,\n                onChange: e => {\n                  const v = e.target.value;\n                  setForm(f => {\n                    const arr = [...(f.adminContacts || [])];\n                    arr[i] = {\n                      ...arr[i],\n                      phone: v\n                    };\n                    return {\n                      ...f,\n                      adminContacts: arr\n                    };\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this), i === 0 ? /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-secondary\",\n              onClick: () => {\n                setForm(f => ({\n                  ...f,\n                  adminContacts: [...(f.adminContacts || []), {\n                    name: '',\n                    email: '',\n                    phone: ''\n                  }]\n                }));\n              },\n              children: \"+ Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-secondary\",\n              onClick: () => {\n                setForm(f => {\n                  const arr = [...(f.adminContacts || [])];\n                  arr.splice(i, 1);\n                  return {\n                    ...f,\n                    adminContacts: arr.length ? arr : [{\n                      name: '',\n                      email: '',\n                      phone: ''\n                    }]\n                  };\n                });\n              },\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 19\n            }, this)]\n          }, `adm-${i}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"card-like\",\n          children: [(() => {\n            const clean = x => x && (x.name || x.email || x.phone);\n            const count = (studentContacts || []).filter(clean).length;\n            return /*#__PURE__*/_jsxDEV(\"legend\", {\n              children: [\"\\uD83C\\uDF93 Student Coordinators (Total: \", count, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 135\n            }, this);\n          })(), (studentContacts || []).map((c, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-grid coordinator-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Name\",\n                value: c.name,\n                onChange: e => {\n                  const v = e.target.value;\n                  setStudentContacts(arr => {\n                    const a = [...arr];\n                    a[i] = {\n                      ...a[i],\n                      name: v\n                    };\n                    return a;\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Email\",\n                type: \"email\",\n                value: c.email,\n                onChange: e => {\n                  const v = e.target.value;\n                  setStudentContacts(arr => {\n                    const a = [...arr];\n                    a[i] = {\n                      ...a[i],\n                      email: v\n                    };\n                    return a;\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Phone\", /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Phone\",\n                value: c.phone,\n                onChange: e => {\n                  const v = e.target.value;\n                  setStudentContacts(arr => {\n                    const a = [...arr];\n                    a[i] = {\n                      ...a[i],\n                      phone: v\n                    };\n                    return a;\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 17\n            }, this), i === 0 ? /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-secondary\",\n              onClick: () => {\n                setStudentContacts(arr => [...arr, {\n                  name: '',\n                  email: '',\n                  phone: ''\n                }]);\n              },\n              children: \"+ Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-secondary\",\n              onClick: () => {\n                setStudentContacts(arr => {\n                  const a = [...arr];\n                  a.splice(i, 1);\n                  return a.length ? a : [{\n                    name: '',\n                    email: '',\n                    phone: ''\n                  }];\n                });\n              },\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 19\n            }, this)]\n          }, `stu-${i}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"card-like\",\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"\\uD83D\\uDDBC\\uFE0F Event Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Choose Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            disabled: uploadingImage,\n            onChange: async e => {\n              var _e$target$files;\n              const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n              if (!file) return;\n              setUploadingImage(true);\n              try {\n                const url = await uploadImage(file);\n                // Use functional setState to avoid overwriting concurrent form changes\n                setForm(prev => ({\n                  ...prev,\n                  imageUrl: url\n                }));\n                toast.success('Image uploaded successfully');\n              } catch (err) {\n                console.error('Upload error:', err);\n                toast.error(err.message || 'Failed to upload image');\n              } finally {\n                setUploadingImage(false);\n                // Reset the input to allow selecting the same file again if needed\n                e.target.value = '';\n              }\n            },\n            className: \"file-input\",\n            id: \"event-image-upload\",\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"event-image-upload\",\n            className: `btn ${uploadingImage ? 'btn-disabled' : 'btn-secondary'}`,\n            style: {\n              display: 'inline-flex',\n              alignItems: 'center',\n              gap: '8px',\n              cursor: uploadingImage ? 'not-allowed' : 'pointer',\n              opacity: uploadingImage ? 0.7 : 1,\n              marginBottom: '8px'\n            },\n            children: uploadingImage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"spinner\",\n                style: {\n                  width: '16px',\n                  height: '16px',\n                  borderWidth: '2px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 19\n              }, this), \"Uploading...\"]\n            }, void 0, true) : 'Choose Image'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"muted\",\n            style: {\n              fontSize: '0.85rem',\n              marginTop: '4px'\n            },\n            children: [form.imageUrl ? 'Image selected' : 'No image selected', form.imageUrl && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setForm({\n                ...form,\n                imageUrl: ''\n              }),\n              style: {\n                marginLeft: '8px',\n                background: 'none',\n                border: 'none',\n                color: '#ef4444',\n                cursor: 'pointer',\n                fontSize: '0.85rem',\n                padding: '2px 4px'\n              },\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 13\n          }, this), form.imageUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '12px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: form.imageUrl,\n              alt: \"preview\",\n              style: {\n                width: '100%',\n                height: 180,\n                objectFit: 'contain',\n                borderRadius: 8,\n                border: '1px solid #e5e7eb',\n                backgroundColor: '#f9fafb',\n                padding: '8px'\n              },\n              onError: e => {\n                console.error('Error loading image:', form.imageUrl);\n                e.target.src = 'https://via.placeholder.com/400x180?text=Image+not+found';\n                e.target.style.objectFit = 'contain';\n                e.target.style.padding = '20px';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 610,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"muted\",\n              style: {\n                fontSize: '0.8rem',\n                marginTop: '4px',\n                textAlign: 'center'\n              },\n              children: \"Image Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 629,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Event Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: eventType,\n          onChange: e => {\n            const v = e.target.value;\n            if (v === 'main') setForm({\n              ...form,\n              isMainEvent: true,\n              parentEvent: ''\n            });\n            if (v === 'sub') setForm({\n              ...form,\n              isMainEvent: false\n            });\n            if (v === 'department') setForm({\n              ...form,\n              isMainEvent: true\n            });\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"main\",\n            children: \"Main Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"sub\",\n            children: \"Sub Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"department\",\n            children: \"Department Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 11\n        }, this), eventType === 'sub' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Parent Main Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 654,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: form.parentEvent,\n            onChange: e => setForm({\n              ...form,\n              parentEvent: e.target.value\n            }),\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select main event\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 17\n            }, this), mainEvents.map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: m._id,\n              children: m.name\n            }, m._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Department Conducting (Optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Enter department name if specific\",\n          value: form.department,\n          onChange: e => setForm({\n            ...form,\n            department: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"muted\",\n          children: \"Leave empty if not department-specific\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 18\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 800\n            },\n            children: \"Eligible Departments to Participate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"muted\",\n            style: {\n              marginBottom: 8\n            },\n            children: \"Select which departments can participate in this event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 13\n          }, this), (() => {\n            const all = ['CSE', 'IT', 'ECE', 'MECH', 'CIVIL', 'EEE'];\n            const toggle = dept => {\n              setForm(f => {\n                const set = new Set(f.eligibleDepartments || []);\n                if (set.has(dept)) set.delete(dept);else set.add(dept);\n                return {\n                  ...f,\n                  eligibleDepartments: Array.from(set)\n                };\n              });\n            };\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"checkbox-grid\",\n              children: all.map(d => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkbox-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: (form.eligibleDepartments || []).includes(d),\n                  onChange: () => toggle(d)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 691,\n                  columnNumber: 23\n                }, this), d]\n              }, d, true, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 17\n            }, this);\n          })()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 18\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 800\n            },\n            children: \"Event Categories\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 706,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"muted\",\n            style: {\n              marginBottom: 8\n            },\n            children: \"Select categories that best describe this event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 13\n          }, this), (() => {\n            const allCategories = ['Technical', 'Coding', 'Robotics', 'Innovation', 'Group Events'];\n            const toggleCategory = category => {\n              setForm(f => {\n                const set = new Set(f.categories || []);\n                if (set.has(category)) set.delete(category);else set.add(category);\n                return {\n                  ...f,\n                  categories: Array.from(set)\n                };\n              });\n            };\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"checkbox-grid\",\n              children: allCategories.map(cat => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkbox-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: (form.categories || []).includes(cat),\n                  onChange: () => toggleCategory(cat)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 721,\n                  columnNumber: 23\n                }, this), cat]\n              }, cat, true, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 17\n            }, this);\n          })()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 11\n        }, this), eventType === 'main' && /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"card-like\",\n          style: {\n            marginTop: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"Basic Registration (Main Event)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"checkbox-label\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: basicRegistrationEnabled,\n              onChange: e => setBasicRegistrationEnabled(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 17\n            }, this), \"Enable basic registration for this main event\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 15\n          }, this), basicRegistrationEnabled && /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Basic Registration Amount (\\u20B9)\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 0,\n              value: basicRegistrationAmount,\n              onChange: e => setBasicRegistrationAmount(Number(e.target.value || 0))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 748,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"muted\",\n            children: \"When enabled, users can register for the main event. Sub-events continue to use their own fee.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"card-like\",\n          style: {\n            marginTop: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"Prize Money (Optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 762,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Winner Prize (\\u20B9)\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 0,\n              value: winnerPrize,\n              onChange: e => setWinnerPrize(Number(e.target.value || 0)),\n              placeholder: \"Enter prize amount for winner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 764,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Runner-up Prize (\\u20B9)\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 0,\n              value: runnerPrize,\n              onChange: e => setRunnerPrize(Number(e.target.value || 0)),\n              placeholder: \"Enter prize amount for runner-up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 773,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"muted\",\n            children: \"Prize money will be added to the team leader's account when marked as winner/runner.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 761,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"card-like\",\n          style: {\n            marginTop: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"Registration Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 785,\n            columnNumber: 13\n          }, this), !hasBinding('registrationDetails.feePerHead') && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Total Fee (per team / entry)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 0,\n              value: form.registrationDetails.feePerHead,\n              onChange: e => setForm({\n                ...form,\n                registrationDetails: {\n                  ...form.registrationDetails,\n                  feePerHead: e.target.value\n                }\n              }),\n              placeholder: \"e.g., 300 (this is the full amount per team)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 789,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), !hasBinding('registrationDetails.teamParticipation') && /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: form.registrationDetails.teamParticipation,\n              onChange: e => setForm({\n                ...form,\n                registrationDetails: {\n                  ...form.registrationDetails,\n                  teamParticipation: e.target.checked\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 17\n            }, this), ' ', \"Team Participation\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 808,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 784,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: !!form.hasMultipleRounds,\n            onChange: e => {\n              const c = e.target.checked;\n              setForm(f => ({\n                ...f,\n                hasMultipleRounds: c,\n                numberOfRounds: c ? Math.max(1, Number(f.numberOfRounds || 2)) : 1\n              }));\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 829,\n            columnNumber: 13\n          }, this), \"Has multiple rounds?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 828,\n          columnNumber: 11\n        }, this), form.hasMultipleRounds && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Number of Rounds\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: 1,\n            value: form.numberOfRounds,\n            onChange: e => setForm(f => ({\n              ...f,\n              numberOfRounds: Math.max(1, Number(e.target.value || 1))\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 838,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), form.registrationDetails.teamParticipation && /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"card-like\",\n          style: {\n            marginTop: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"Team Size\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 846,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 847,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: ((_form$registrationDet = form.registrationDetails.teamSize) === null || _form$registrationDet === void 0 ? void 0 : _form$registrationDet.type) || 'individual',\n            onChange: e => setForm({\n              ...form,\n              registrationDetails: {\n                ...form.registrationDetails,\n                teamSize: {\n                  ...form.registrationDetails.teamSize,\n                  type: e.target.value\n                }\n              }\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"individual\",\n              children: \"Individual\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 858,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"fixed\",\n              children: \"Fixed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 859,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"range\",\n              children: \"Range\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 860,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"at_most\",\n              children: \"At most\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 861,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"at_least\",\n              children: \"At least\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 862,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 848,\n            columnNumber: 15\n          }, this), ((_form$registrationDet2 = form.registrationDetails.teamSize) === null || _form$registrationDet2 === void 0 ? void 0 : _form$registrationDet2.type) === 'fixed' && /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Exact Team Size\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 1,\n              value: ((_form$registrationDet3 = form.registrationDetails.teamSize) === null || _form$registrationDet3 === void 0 ? void 0 : _form$registrationDet3.value) || 1,\n              onChange: e => setForm({\n                ...form,\n                registrationDetails: {\n                  ...form.registrationDetails,\n                  teamSize: {\n                    ...form.registrationDetails.teamSize,\n                    value: e.target.value\n                  }\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 867,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 17\n          }, this), ((_form$registrationDet4 = form.registrationDetails.teamSize) === null || _form$registrationDet4 === void 0 ? void 0 : _form$registrationDet4.type) === 'range' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Min Team Size\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: 1,\n                value: ((_form$registrationDet5 = form.registrationDetails.teamSize) === null || _form$registrationDet5 === void 0 ? void 0 : _form$registrationDet5.minValue) || 1,\n                onChange: e => setForm({\n                  ...form,\n                  registrationDetails: {\n                    ...form.registrationDetails,\n                    teamSize: {\n                      ...form.registrationDetails.teamSize,\n                      minValue: e.target.value\n                    }\n                  }\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 883,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Max Team Size\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: 1,\n                value: ((_form$registrationDet6 = form.registrationDetails.teamSize) === null || _form$registrationDet6 === void 0 ? void 0 : _form$registrationDet6.maxValue) || 1,\n                onChange: e => setForm({\n                  ...form,\n                  registrationDetails: {\n                    ...form.registrationDetails,\n                    teamSize: {\n                      ...form.registrationDetails.teamSize,\n                      maxValue: e.target.value\n                    }\n                  }\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 895,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 881,\n            columnNumber: 17\n          }, this), ((_form$registrationDet7 = form.registrationDetails.teamSize) === null || _form$registrationDet7 === void 0 ? void 0 : _form$registrationDet7.type) === 'at_most' && /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Max Team Size\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 1,\n              value: ((_form$registrationDet8 = form.registrationDetails.teamSize) === null || _form$registrationDet8 === void 0 ? void 0 : _form$registrationDet8.maxValue) || 1,\n              onChange: e => setForm({\n                ...form,\n                registrationDetails: {\n                  ...form.registrationDetails,\n                  teamSize: {\n                    ...form.registrationDetails.teamSize,\n                    maxValue: e.target.value\n                  }\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 911,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 910,\n            columnNumber: 17\n          }, this), ((_form$registrationDet9 = form.registrationDetails.teamSize) === null || _form$registrationDet9 === void 0 ? void 0 : _form$registrationDet9.type) === 'at_least' && /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Min Team Size\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 1,\n              value: ((_form$registrationDet0 = form.registrationDetails.teamSize) === null || _form$registrationDet0 === void 0 ? void 0 : _form$registrationDet0.minValue) || 1,\n              onChange: e => setForm({\n                ...form,\n                registrationDetails: {\n                  ...form.registrationDetails,\n                  teamSize: {\n                    ...form.registrationDetails.teamSize,\n                    minValue: e.target.value\n                  }\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 926,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 925,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-form-right\",\n        children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"card-like\",\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"\\uD83C\\uDFC6 Certificate Template\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Template Background URL (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 947,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"e.g., https://.../certificate-bg.png\",\n            value: form.certificateTemplateUrl,\n            onChange: e => setForm({\n              ...form,\n              certificateTemplateUrl: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 948,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Organizer / Signatory (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 954,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"e.g., Event Coordinator\",\n            value: form.certificateOrganizer,\n            onChange: e => setForm({\n              ...form,\n              certificateOrganizer: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 955,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Award Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 961,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Certificate of Participation\",\n            value: form.certificateAwardText,\n            onChange: e => setForm({\n              ...form,\n              certificateAwardText: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 962,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 20\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"muted\",\n              style: {\n                marginBottom: 12,\n                fontWeight: 600\n              },\n              children: \"Certificate Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 969,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CertificateTemplate, {\n              participantName: 'John Doe',\n              eventName: form.name || 'Event Name',\n              dateText: form.date ? new Date(form.date).toLocaleDateString() : '',\n              organizerText: form.certificateOrganizer || '',\n              awardText: form.certificateAwardText || 'Certificate of Participation',\n              accentColor: '#111827',\n              primaryColor: '#14b8a6',\n              bgPattern: form.certificateTemplateUrl || '',\n              issuerName: 'GMRIT',\n              logoUrl: form.imageUrl || '',\n              showSeal: true,\n              sealSize: 90,\n              sealText: 'Official',\n              downloadBaseName: 'template-preview',\n              showActions: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 970,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 968,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 944,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 943,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed-actions-inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            type: \"button\",\n            onClick: () => navigate('/admin'),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 994,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary\",\n            type: \"submit\",\n            disabled: saving,\n            children: id ? 'Update Event' : 'Create Event'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 997,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 993,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 992,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: 72\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1003,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 265,\n    columnNumber: 5\n  }, this);\n};\n_s2(AdminEventForm, \"m06TrvNTJQ9RMaDvaMxI2jF7BbM=\", false, function () {\n  return [useParams, useQuery, useNavigate];\n});\n_c = AdminEventForm;\nexport default AdminEventForm;\nvar _c;\n$RefreshReg$(_c, \"AdminEventForm\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useLocation","useNavigate","useParams","toast","api","CertificateTemplate","jsxDEV","_jsxDEV","Fragment","_Fragment","useQuery","_s","URLSearchParams","search","empty","name","description","date","time","location","imageUrl","isMainEvent","parentEvent","department","eligibleDepartments","categories","multiDay","numberOfDays","schedule","hasMultipleRounds","numberOfRounds","adminContacts","email","phone","registrationDetails","feePerHead","teamParticipation","teamSize","type","value","minValue","maxValue","certificateTemplateUrl","certificateOrganizer","certificateAwardText","AdminEventForm","_s2","_form$registrationDet","_form$registrationDet2","_form$registrationDet3","_form$registrationDet4","_form$registrationDet5","_form$registrationDet6","_form$registrationDet7","_form$registrationDet8","_form$registrationDet9","_form$registrationDet0","id","query","parentFromQuery","get","navigate","form","setForm","saving","setSaving","uploadingImage","setUploadingImage","mainEvents","setMainEvents","basicRegistrationEnabled","setBasicRegistrationEnabled","basicRegistrationAmount","setBasicRegistrationAmount","winnerPrize","setWinnerPrize","runnerPrize","setRunnerPrize","studentContacts","setStudentContacts","schemaFields","setSchemaFields","customFields","setCustomFields","hasBinding","path","some","f","bindTo","pathGet","obj","undefined","split","reduce","acc","key","pathSet","parts","o","cur","i","length","k","loadParents","data","load","_data$parentEvent","_data$registrationDet","_data$registrationDet2","_data$registrationDet3","_data$registrationDet4","substring","_id","Array","isArray","map","s","String","slice","c","Number","cf","e","error","loadSchema","fields","ordered","sort","a","b","order","uploadImage","file","match","Error","maxSize","size","fd","FormData","append","post","headers","_error$response","_error$response$data","console","errorMessage","response","message","onSubmit","preventDefault","payload","clean","mergedContacts","filter","ts","num","v","n","isFinite","put","success","err","_err$response","_err$response$data","eventType","className","children","style","padding","onClick","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","target","required","rows","display","alignItems","gap","marginTop","checked","Math","max","min","sched","push","from","_","_form$schedule","_form$schedule$i","_form$schedule2","_form$schedule2$i","border","borderRadius","fld","idx","_pathGet","_customFields$k","boundPath","isBound","commonInput","extraProps","prev","m","t","inputType","label","marginBottom","fontWeight","options","opt","x","count","arr","splice","accept","disabled","_e$target$files","files","url","htmlFor","cursor","opacity","width","height","borderWidth","fontSize","marginLeft","background","color","src","alt","objectFit","backgroundColor","onError","textAlign","all","toggle","dept","set","Set","has","delete","add","d","includes","allCategories","toggleCategory","category","cat","participantName","eventName","dateText","Date","toLocaleDateString","organizerText","awardText","accentColor","primaryColor","bgPattern","issuerName","logoUrl","showSeal","sealSize","sealText","downloadBaseName","showActions","_c","$RefreshReg$"],"sources":["C:/Users/sairi/Desktop/main_project/frontend/src/pages/AdminEventForm.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\nimport toast from 'react-hot-toast';\nimport api from '../utils/api';\nimport CertificateTemplate from '../components/CertificateTemplate';\nimport './AdminEventForm.css';\n\nconst useQuery = () => new URLSearchParams(useLocation().search);\n\nconst empty = {\n  name: '',\n  description: '',\n  date: '',\n  time: '',\n  location: '',\n  imageUrl: '',\n  isMainEvent: true,\n  parentEvent: '',\n  department: '',\n  eligibleDepartments: [],\n  categories: [],\n  // New fields\n  multiDay: false,\n  numberOfDays: 1,\n  schedule: [{ date: '', time: '' }], // per-day date/time\n  hasMultipleRounds: false,\n  numberOfRounds: 1,\n  adminContacts: [{ name: '', email: '', phone: '' }],\n  registrationDetails: {\n    feePerHead: 0,\n    teamParticipation: false,\n    teamSize: { type: 'individual', value: 1, minValue: 1, maxValue: 1 },\n  },\n  // Certificate configuration (optional)\n  certificateTemplateUrl: '',\n  certificateOrganizer: '',\n  certificateAwardText: 'Certificate of Participation',\n};\n\nconst AdminEventForm = () => {\n  const { id } = useParams();\n  const query = useQuery();\n  const parentFromQuery = query.get('parent') || '';\n  const navigate = useNavigate();\n\n  const [form, setForm] = useState(empty);\n  const [saving, setSaving] = useState(false);\n  const [uploadingImage, setUploadingImage] = useState(false);\n  const [mainEvents, setMainEvents] = useState([]);\n  const [basicRegistrationEnabled, setBasicRegistrationEnabled] = useState(false);\n  const [basicRegistrationAmount, setBasicRegistrationAmount] = useState(0);\n  const [winnerPrize, setWinnerPrize] = useState(0);\n  const [runnerPrize, setRunnerPrize] = useState(0);\n  // Separate UI-only section for Student Coordinators; merged on submit\n  const [studentContacts, setStudentContacts] = useState([{ name: '', email: '', phone: '' }]);\n  const [schemaFields, setSchemaFields] = useState([]);\n  const [customFields, setCustomFields] = useState({});\n\n  const hasBinding = (path) => (schemaFields || []).some(f => (f.bindTo || '') === path);\n  const pathGet = (obj, path) => {\n    if (!path) return undefined;\n    return path.split('.').reduce((acc, key) => (acc ? acc[key] : undefined), obj);\n  };\n  const pathSet = (obj, path, value) => {\n    const parts = path.split('.');\n    const o = { ...obj };\n    let cur = o;\n    for (let i = 0; i < parts.length - 1; i++) {\n      const k = parts[i];\n      cur[k] = typeof cur[k] === 'object' && cur[k] !== null ? { ...cur[k] } : {};\n      cur = cur[k];\n    }\n    cur[parts[parts.length - 1]] = value;\n    return o;\n  };\n\n  // Load main events for parent selection when adding sub-event\n  useEffect(() => {\n    const loadParents = async () => {\n      try {\n        const { data } = await api.get('/api/events?isMainEvent=true');\n        setMainEvents(data);\n      } catch {}\n    };\n    loadParents();\n  }, []);\n\n  // If editing, load event\n  useEffect(() => {\n    const load = async () => {\n      if (!id) {\n        // creating\n        if (parentFromQuery) setForm((f) => ({ ...f, isMainEvent: false, parentEvent: parentFromQuery }));\n        return;\n      }\n      try {\n        const { data } = await api.get(`/api/events/${id}`);\n        setForm({\n          name: data.name,\n          description: data.description || '',\n          date: data.date ? data.date.substring(0, 10) : '',\n          time: data.time || '',\n          location: data.location || '',\n          imageUrl: data.imageUrl || '',\n          isMainEvent: data.isMainEvent,\n          parentEvent: data.parentEvent?._id || '',\n          department: data.department || '',\n          eligibleDepartments: Array.isArray(data.eligibleDepartments) ? data.eligibleDepartments : [],\n          categories: Array.isArray(data.categories) ? data.categories : [],\n          multiDay: !!data.multiDay,\n          numberOfDays: data.numberOfDays || 1,\n          schedule: Array.isArray(data.schedule) && data.schedule.length > 0 ? data.schedule.map(s=>({\n            date: s.date ? String(s.date).slice(0,10) : '',\n            time: s.time || ''\n          })) : [{ date: data.date ? data.date.substring(0,10) : '', time: data.time || '' }],\n          hasMultipleRounds: !!data.hasMultipleRounds,\n          numberOfRounds: data.numberOfRounds || 1,\n          adminContacts: Array.isArray(data.adminContacts) && data.adminContacts.length > 0\n            ? data.adminContacts.map(c => ({ name: c.name || '', email: c.email || '', phone: c.phone || '' }))\n            : [{ name: '', email: '', phone: '' }],\n          registrationDetails: {\n            feePerHead: data.registrationDetails?.feePerHead ?? 0,\n            teamParticipation: !!data.registrationDetails?.teamParticipation,\n            teamSize: data.registrationDetails?.teamSize || { type: 'individual', value: 1, minValue: 1, maxValue: 1 },\n          },\n          certificateTemplateUrl: data.certificateTemplateUrl || '',\n          certificateOrganizer: data.certificateOrganizer || '',\n          certificateAwardText: data.certificateAwardText || 'Certificate of Participation',\n        });\n        // For edit mode, prefill student contacts as empty section (not stored separately in backend)\n        setStudentContacts([{ name: '', email: '', phone: '' }]);\n        setBasicRegistrationEnabled(!!data.basicRegistrationEnabled);\n        setBasicRegistrationAmount(Number(data.basicRegistrationAmount || 0));\n        setWinnerPrize(Number(data.winnerPrize || 0));\n        setRunnerPrize(Number(data.runnerPrize || 0));\n        const cf = data.customFields && typeof data.customFields === 'object' ? data.customFields : {};\n        setCustomFields(cf);\n      } catch (e) {\n        toast.error('Failed to load event');\n      }\n    };\n    load();\n  }, [id, parentFromQuery]);\n\n  useEffect(() => {\n    const loadSchema = async () => {\n      try {\n        const { data } = await api.get('/api/form-schema');\n        const fields = Array.isArray(data?.fields) ? data.fields : [];\n        const ordered = [...fields].sort((a,b)=> (a.order||0)-(b.order||0));\n        setSchemaFields(ordered);\n      } catch {}\n    };\n    loadSchema();\n  }, []);\n\n  const uploadImage = async (file) => {\n    // Validate file type\n    if (!file.type.match('image.*')) {\n      throw new Error('Only image files are allowed');\n    }\n    \n    // Validate file size (5MB max)\n    const maxSize = 5 * 1024 * 1024; // 5MB\n    if (file.size > maxSize) {\n      throw new Error('Image size should be less than 5MB');\n    }\n    \n    const fd = new FormData();\n    fd.append('image', file);\n    \n    try {\n      const { data } = await api.post('/api/upload/image', fd, {\n        headers: { 'Content-Type': 'multipart/form-data' },\n      });\n      return data.imageUrl;\n    } catch (error) {\n      console.error('Image upload failed:', error);\n      const errorMessage = error.response?.data?.message || 'Failed to upload image. Please try again.';\n      throw new Error(errorMessage);\n    }\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    setSaving(true);\n    try {\n      const payload = { ...form };\n      // Merge faculty(adminContacts) and studentContacts into a single adminContacts array for backend\n      const clean = (c) => (c && (c.name || c.email || c.phone));\n      const mergedContacts = [\n        ...((form.adminContacts || []).filter(clean)),\n        ...((studentContacts || []).filter(clean)),\n      ];\n      payload.adminContacts = mergedContacts.length ? mergedContacts : [{ name: '', email: '', phone: '' }];\n      payload.registrationDetails = {\n        ...payload.registrationDetails,\n        feePerHead: Number(payload.registrationDetails.feePerHead || 0),\n        teamParticipation: !!payload.registrationDetails.teamParticipation,\n      };\n\n      // Normalize team size object\n      const ts = payload.registrationDetails.teamSize || { type: 'individual', value: 1, minValue: 1, maxValue: 1 };\n      if (!payload.registrationDetails.teamParticipation) {\n        payload.registrationDetails.teamSize = { type: 'individual', value: 1, minValue: 1, maxValue: 1 };\n      } else {\n        // Ensure numeric fields are numbers and sane\n        const num = (v) => {\n          const n = Number(v);\n          return Number.isFinite(n) ? n : 1;\n        };\n        if (ts.type === 'fixed') {\n          payload.registrationDetails.teamSize = { type: 'fixed', value: num(ts.value), minValue: num(ts.value), maxValue: num(ts.value) };\n        } else if (ts.type === 'range') {\n          payload.registrationDetails.teamSize = { type: 'range', minValue: num(ts.minValue), maxValue: num(ts.maxValue) };\n        } else if (ts.type === 'at_most') {\n          payload.registrationDetails.teamSize = { type: 'at_most', minValue: 1, maxValue: num(ts.maxValue) };\n        } else if (ts.type === 'at_least') {\n          payload.registrationDetails.teamSize = { type: 'at_least', minValue: num(ts.minValue), maxValue: num(ts.maxValue || ts.minValue) };\n        } else {\n          payload.registrationDetails.teamSize = { type: 'individual', value: 1, minValue: 1, maxValue: 1 };\n        }\n      }\n\n      // sanitize parent on client too\n      if (payload.isMainEvent) payload.parentEvent = '';\n\n      // Ensure certificate fields are strings\n      payload.certificateTemplateUrl = String(payload.certificateTemplateUrl || '');\n      payload.certificateOrganizer = String(payload.certificateOrganizer || '');\n      payload.certificateAwardText = String(payload.certificateAwardText || 'Certificate of Participation');\n\n      // Basic registration fields (main events only)\n      payload.basicRegistrationEnabled = !!basicRegistrationEnabled;\n      payload.basicRegistrationAmount = Number(basicRegistrationAmount || 0);\n      \n      // Prize money fields\n      payload.winnerPrize = Number(winnerPrize || 0);\n      payload.runnerPrize = Number(runnerPrize || 0);\n\n      payload.customFields = customFields && typeof customFields === 'object' ? customFields : {};\n\n      if (id) {\n        await api.put(`/api/events/${id}`, payload);\n        toast.success('Event updated');\n      } else {\n        await api.post('/api/events', payload);\n        toast.success('Event created');\n      }\n      navigate('/admin');\n    } catch (err) {\n      toast.error(err.response?.data?.message || 'Save failed');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const eventType = useMemo(() => {\n    if (form.isMainEvent) return 'main';\n    if (form.parentEvent) return 'sub';\n    return 'department';\n  }, [form.isMainEvent, form.parentEvent]);\n\n  return (\n    <div className=\"admin-form-wrap\">\n      <div className=\"admin-form-header\">\n        <div style={{ padding: '0 24px' }}>\n          <button className=\"admin-form-back\" onClick={() => navigate('/admin')}> Back to Dashboard</button>\n          <h2 className=\"admin-form-title\">{id ? 'Edit Event' : 'Create New Event'}</h2>\n          <p className=\"admin-form-subtitle\">\n            {id ? 'Update event details and configuration' : 'Fill in the details below to create a new event'}\n          </p>\n        </div>\n      </div>\n\n      <form className=\"admin-form\" onSubmit={onSubmit}>\n        <div className=\"admin-form-left\">\n          {/* Basic Information Card */}\n          <fieldset className=\"card-like\">\n            <legend> Basic Information</legend>\n\n            {!hasBinding('name') && (\n              <>\n                <label>Event Name</label>\n                <input placeholder=\"Enter event name\" value={form.name} onChange={(e) => setForm({ ...form, name: e.target.value })} required />\n              </>\n            )}\n\n            {!hasBinding('description') && (\n              <>\n                <label>Description (Point-wise)</label>\n                <textarea placeholder=\"Enter description with bullet points  Point 1  Point 2  Point 3\" value={form.description} onChange={(e) => setForm({ ...form, description: e.target.value })} rows={3} />\n                <div className=\"muted\">Use bullet points for better readability</div>\n              </>\n            )}\n\n            <div className=\"row-2col\">\n              {!hasBinding('date') && (\n                <div>\n                  <label>Date</label>\n                  <input type=\"date\" value={form.date} onChange={(e) => setForm({ ...form, date: e.target.value })} required={!form.isMainEvent} />\n                </div>\n              )}\n              {!hasBinding('time') && (\n                <div>\n                  <label>Time</label>\n                  <input placeholder=\"e.g., 10:00 AM - 12:00 PM\" value={form.time} onChange={(e) => setForm({ ...form, time: e.target.value })} required={!form.isMainEvent} />\n                </div>\n              )}\n            </div>\n\n            {!hasBinding('location') && (\n              <>\n                <label>Location</label>\n                <input placeholder=\"Enter location\" value={form.location} onChange={(e) => setForm({ ...form, location: e.target.value })} required={!form.isMainEvent} />\n              </>\n            )}\n            \n            {/* Multi-day event controls */}\n            <label style={{ display:'flex', alignItems:'center', gap:8, marginTop: 16 }}>\n              <input type=\"checkbox\" checked={!!form.multiDay} onChange={(e)=>{\n                const checked = e.target.checked;\n                setForm((f)=>({\n                  ...f,\n                  multiDay: checked,\n                  numberOfDays: checked ? Math.max(1, Number(f.numberOfDays || 2)) : 1,\n                  schedule: checked ? (f.schedule && f.schedule.length>0 ? f.schedule : [{ date: f.date, time: f.time }]) : [{ date: f.date, time: f.time }]\n                }));\n              }} />\n              Multi-day event?\n            </label>\n            {form.multiDay && (\n              <>\n                <label>Number of Days</label>\n                <input type=\"number\" min={1} value={form.numberOfDays}\n                       onChange={(e)=>{\n                         const n = Math.max(1, Number(e.target.value || 1));\n                         setForm((f)=>{\n                           const sched = Array.isArray(f.schedule) ? [...f.schedule] : [];\n                           while (sched.length < n) sched.push({ date: '', time: '' });\n                           if (sched.length > n) sched.length = n;\n                           return { ...f, numberOfDays: n, schedule: sched };\n                         });\n                       }} />\n                {Array.from({ length: Math.max(1, Number(form.numberOfDays || 1)) }).map((_, i) => (\n                  <div key={`day-${i}`} className=\"form-grid\" style={{border:'1px solid #eee', padding:10, borderRadius:8}}>\n                    <label>Day {i+1} Date\n                      <input type=\"date\" value={form.schedule?.[i]?.date || ''}\n                             onChange={(e)=>{\n                               const v = e.target.value;\n                               setForm((f)=>{\n                                 const sched = Array.isArray(f.schedule) ? [...f.schedule] : [];\n                                 while (sched.length <= i) sched.push({ date:'', time:'' });\n                                 sched[i] = { ...sched[i], date: v };\n                                 return { ...f, schedule: sched };\n                               });\n                             }} />\n                    </label>\n                    <label>Day {i+1} Time\n                      <input value={form.schedule?.[i]?.time || ''} placeholder=\"e.g., 10:00 AM - 12:00 PM\"\n                             onChange={(e)=>{\n                               const v = e.target.value;\n                               setForm((f)=>{\n                                 const sched = Array.isArray(f.schedule) ? [...f.schedule] : [];\n                                 while (sched.length <= i) sched.push({ date:'', time:'' });\n                                 sched[i] = { ...sched[i], time: v };\n                                 return { ...f, schedule: sched };\n                               });\n                             }} />\n                    </label>\n                  </div>\n                ))}\n              </>\n            )}\n          </fieldset>\n\n          {schemaFields && schemaFields.length > 0 && (\n            <fieldset className=\"card-like\" style={{ marginTop: 10 }}>\n              <legend>Event Details</legend>\n              {schemaFields.map((fld, idx) => {\n                const k = fld.key;\n                const boundPath = fld.bindTo || '';\n                const isBound = !!boundPath;\n                const value = isBound ? (pathGet(form, boundPath) ?? (fld.type === 'checkbox' ? false : '')) : (customFields?.[k] ?? '');\n\n                const commonInput = (type, extraProps={}) => (\n                  <input\n                    type={type}\n                    value={type === 'checkbox' ? undefined : value}\n                    checked={type === 'checkbox' ? !!value : undefined}\n                    required={!!fld.required}\n                    onChange={(e) => {\n                      const v = type === 'checkbox' ? e.target.checked : e.target.value;\n                      if (isBound) setForm((prev) => pathSet(prev, boundPath, v));\n                      else setCustomFields((m) => ({ ...m, [k]: v }));\n                    }}\n                    {...extraProps}\n                  />\n                );\n\n                if (fld.type === 'text' || fld.type === 'number' || fld.type === 'date') {\n                  const t = fld.type === 'text' ? (fld.inputType || 'text') : fld.type;\n                  return (\n                    <label key={k || idx}>\n                      {fld.label}\n                      {commonInput(t)}\n                    </label>\n                  );\n                }\n                if (fld.type === 'radio') {\n                  return (\n                    <div key={k || idx} style={{ marginBottom: 10 }}>\n                      <div style={{ fontWeight: 600, marginBottom: 6 }}>{fld.label}</div>\n                      <div className=\"checkbox-grid\">\n                        {(fld.options || []).map((opt) => (\n                          <label key={opt} className=\"checkbox-label\">\n                            <input\n                              type=\"radio\"\n                              name={`schema-${k}`}\n                              checked={value === opt}\n                              onChange={() => {\n                                if (isBound) setForm((prev) => pathSet(prev, boundPath, opt));\n                                else setCustomFields((m) => ({ ...m, [k]: opt }));\n                              }}\n                              required={!!fld.required}\n                            />\n                            {opt}\n                          </label>\n                        ))}\n                      </div>\n                    </div>\n                  );\n                }\n                if (fld.type === 'checkbox') {\n                  return (\n                    <label key={k || idx} className=\"checkbox-label\">\n                      {commonInput('checkbox')}\n                      {fld.label}\n                    </label>\n                  );\n                }\n                if (fld.type === 'select') {\n                  return (\n                    <label key={k || idx}>\n                      {fld.label}\n                      <select\n                        value={value || ''}\n                        onChange={(e)=> {\n                          const v = e.target.value;\n                          if (isBound) setForm((prev) => pathSet(prev, boundPath, v));\n                          else setCustomFields((m)=> ({ ...m, [k]: v }));\n                        }}\n                        required={!!fld.required}\n                      >\n                        <option value=\"\">Select</option>\n                        {(fld.options || []).map((opt)=> (\n                          <option key={opt} value={opt}>{opt}</option>\n                        ))}\n                      </select>\n                    </label>\n                  );\n                }\n                return null;\n              })}\n            </fieldset>\n          )}\n\n          {/* Faculty Coordinators */}\n          <fieldset className=\"card-like\">\n            {(() => { const clean=(x)=>x&&(x.name||x.email||x.phone); const count=(form.adminContacts||[]).filter(clean).length; return (<legend> Faculty Coordinators (Total: {count})</legend>); })()}\n            {(form.adminContacts || []).map((c, i) => (\n              <div key={`adm-${i}`} className=\"form-grid coordinator-row\">\n                <label>Name\n                  <input placeholder=\"Name\" value={c.name} onChange={(e)=>{\n                    const v = e.target.value; setForm(f=>{ const arr=[...(f.adminContacts||[])]; arr[i]={...arr[i], name:v}; return {...f, adminContacts:arr}; });\n                  }} />\n                </label>\n                <label>Email\n                  <input placeholder=\"Email\" type=\"email\" value={c.email} onChange={(e)=>{\n                    const v = e.target.value; setForm(f=>{ const arr=[...(f.adminContacts||[])]; arr[i]={...arr[i], email:v}; return {...f, adminContacts:arr}; });\n                  }} />\n                </label>\n                <label>Phone\n                  <input placeholder=\"Phone\" value={c.phone} onChange={(e)=>{\n                    const v = e.target.value; setForm(f=>{ const arr=[...(f.adminContacts||[])]; arr[i]={...arr[i], phone:v}; return {...f, adminContacts:arr}; });\n                  }} />\n                </label>\n                {i === 0 ? (\n                  <button type=\"button\" className=\"btn-secondary\" onClick={()=>{\n                    setForm(f=>({ ...f, adminContacts: [...(f.adminContacts||[]), { name:'', email:'', phone:'' }] }));\n                  }}>+ Add</button>\n                ) : (\n                  <button type=\"button\" className=\"btn-secondary\" onClick={()=>{\n                    setForm(f=>{ const arr=[...(f.adminContacts||[])]; arr.splice(i,1); return {...f, adminContacts: arr.length?arr:[{name:'',email:'',phone:''}]}; });\n                  }}>Remove</button>\n                )}\n              </div>\n            ))}\n          </fieldset>\n\n          {/* Student Coordinators (UI only; merged into adminContacts on submit) */}\n          <fieldset className=\"card-like\">\n            {(() => { const clean=(x)=>x&&(x.name||x.email||x.phone); const count=(studentContacts||[]).filter(clean).length; return (<legend> Student Coordinators (Total: {count})</legend>); })()}\n            {(studentContacts || []).map((c, i) => (\n              <div key={`stu-${i}`} className=\"form-grid coordinator-row\">\n                <label>Name\n                  <input placeholder=\"Name\" value={c.name} onChange={(e)=>{\n                    const v = e.target.value; setStudentContacts(arr=>{ const a=[...arr]; a[i]={...a[i], name:v}; return a; });\n                  }} />\n                </label>\n                <label>Email\n                  <input placeholder=\"Email\" type=\"email\" value={c.email} onChange={(e)=>{\n                    const v = e.target.value; setStudentContacts(arr=>{ const a=[...arr]; a[i]={...a[i], email:v}; return a; });\n                  }} />\n                </label>\n                <label>Phone\n                  <input placeholder=\"Phone\" value={c.phone} onChange={(e)=>{\n                    const v = e.target.value; setStudentContacts(arr=>{ const a=[...arr]; a[i]={...a[i], phone:v}; return a; });\n                  }} />\n                </label>\n                {i === 0 ? (\n                  <button type=\"button\" className=\"btn-secondary\" onClick={()=>{\n                    setStudentContacts(arr=>[...arr, { name:'', email:'', phone:'' }]);\n                  }}>+ Add</button>\n                ) : (\n                  <button type=\"button\" className=\"btn-secondary\" onClick={()=>{\n                    setStudentContacts(arr=>{ const a=[...arr]; a.splice(i,1); return a.length?a:[{name:'',email:'',phone:''}]; });\n                  }}>Remove</button>\n                )}\n              </div>\n            ))}\n          </fieldset>\n\n          {/* Event Image Card */}\n          <fieldset className=\"card-like\">\n            <legend> Event Image</legend>\n            \n            <label>Choose Image</label>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              disabled={uploadingImage}\n              onChange={async (e) => {\n                const file = e.target.files?.[0];\n                if (!file) return;\n                \n                setUploadingImage(true);\n                try {\n                  const url = await uploadImage(file);\n                  // Use functional setState to avoid overwriting concurrent form changes\n                  setForm((prev) => ({ ...prev, imageUrl: url }));\n                  toast.success('Image uploaded successfully');\n                } catch (err) {\n                  console.error('Upload error:', err);\n                  toast.error(err.message || 'Failed to upload image');\n                } finally {\n                  setUploadingImage(false);\n                  // Reset the input to allow selecting the same file again if needed\n                  e.target.value = '';\n                }\n              }}\n              className=\"file-input\"\n              id=\"event-image-upload\"\n              style={{ display: 'none' }}\n            />\n            <label \n              htmlFor=\"event-image-upload\" \n              className={`btn ${uploadingImage ? 'btn-disabled' : 'btn-secondary'}`}\n              style={{\n                display: 'inline-flex',\n                alignItems: 'center',\n                gap: '8px',\n                cursor: uploadingImage ? 'not-allowed' : 'pointer',\n                opacity: uploadingImage ? 0.7 : 1,\n                marginBottom: '8px'\n              }}\n            >\n              {uploadingImage ? (\n                <>\n                  <span className=\"spinner\" style={{ width: '16px', height: '16px', borderWidth: '2px' }}></span>\n                  Uploading...\n                </>\n              ) : (\n                'Choose Image'\n              )}\n            </label>\n            <div className=\"muted\" style={{ fontSize: '0.85rem', marginTop: '4px' }}>\n              {form.imageUrl ? 'Image selected' : 'No image selected'}\n              {form.imageUrl && (\n                <button \n                  type=\"button\" \n                  onClick={() => setForm({ ...form, imageUrl: '' })}\n                  style={{ \n                    marginLeft: '8px',\n                    background: 'none',\n                    border: 'none',\n                    color: '#ef4444',\n                    cursor: 'pointer',\n                    fontSize: '0.85rem',\n                    padding: '2px 4px'\n                  }}\n                >\n                  Remove\n                </button>\n              )}\n            </div>\n            \n            {form.imageUrl && (\n              <div style={{ marginTop: '12px' }}>\n                <img\n                src={form.imageUrl}\n                alt=\"preview\"\n                style={{ \n                  width: '100%', \n                  height: 180, \n                  objectFit: 'contain',\n                  borderRadius: 8,\n                  border: '1px solid #e5e7eb',\n                  backgroundColor: '#f9fafb',\n                  padding: '8px'\n                }}\n                onError={(e) => {\n                  console.error('Error loading image:', form.imageUrl);\n                  e.target.src = 'https://via.placeholder.com/400x180?text=Image+not+found';\n                  e.target.style.objectFit = 'contain';\n                  e.target.style.padding = '20px';\n                }}\n              />\n              <div className=\"muted\" style={{ fontSize: '0.8rem', marginTop: '4px', textAlign: 'center' }}>\n                Image Preview\n              </div>\n            </div>\n            )}\n          </fieldset>\n\n\n          <label>Event Type</label>\n          <select\n            value={eventType}\n            onChange={(e) => {\n              const v = e.target.value;\n              if (v === 'main') setForm({ ...form, isMainEvent: true, parentEvent: '' });\n              if (v === 'sub') setForm({ ...form, isMainEvent: false });\n              if (v === 'department') setForm({ ...form, isMainEvent: true });\n            }}\n          >\n            <option value=\"main\">Main Event</option>\n            <option value=\"sub\">Sub Event</option>\n            <option value=\"department\">Department Event</option>\n          </select>\n\n          {eventType === 'sub' && (\n            <>\n              <label>Parent Main Event</label>\n              <select\n                value={form.parentEvent}\n                onChange={(e) => setForm({ ...form, parentEvent: e.target.value })}\n                required\n              >\n                <option value=\"\">Select main event</option>\n                {mainEvents.map((m) => (\n                  <option key={m._id} value={m._id}>\n                    {m.name}\n                  </option>\n                ))}\n              </select>\n            </>\n          )}\n\n          <label>Department Conducting (Optional)</label>\n          <input placeholder=\"Enter department name if specific\" value={form.department} onChange={(e) => setForm({ ...form, department: e.target.value })} />\n          <div className=\"muted\">Leave empty if not department-specific</div>\n\n          {/* Eligible Departments visual-only block */}\n          <div style={{ marginTop: 18 }}>\n            <div style={{ fontWeight: 800 }}>Eligible Departments to Participate</div>\n            <div className=\"muted\" style={{ marginBottom: 8 }}>Select which departments can participate in this event</div>\n            {(() => {\n              const all = ['CSE','IT','ECE','MECH','CIVIL','EEE'];\n              const toggle = (dept) => {\n                setForm((f)=>{\n                  const set = new Set(f.eligibleDepartments || []);\n                  if (set.has(dept)) set.delete(dept); else set.add(dept);\n                  return { ...f, eligibleDepartments: Array.from(set) };\n                });\n              };\n              return (\n                <div className=\"checkbox-grid\">\n                  {all.map((d)=> (\n                    <label key={d} className=\"checkbox-label\">\n                      <input\n                        type=\"checkbox\"\n                        checked={(form.eligibleDepartments || []).includes(d)}\n                        onChange={()=> toggle(d)}\n                      />\n                      {d}\n                    </label>\n                  ))}\n                </div>\n              );\n            })()}\n          </div>\n\n          {/* Event Categories */}\n          <div style={{ marginTop: 18 }}>\n            <div style={{ fontWeight: 800 }}>Event Categories</div>\n            <div className=\"muted\" style={{ marginBottom: 8 }}>Select categories that best describe this event</div>\n            {(() => {\n              const allCategories = ['Technical', 'Coding', 'Robotics', 'Innovation', 'Group Events'];\n              const toggleCategory = (category) => {\n                setForm((f)=>{\n                  const set = new Set(f.categories || []);\n                  if (set.has(category)) set.delete(category); else set.add(category);\n                  return { ...f, categories: Array.from(set) };\n                });\n              };\n              return (\n                <div className=\"checkbox-grid\">\n                  {allCategories.map((cat)=> (\n                    <label key={cat} className=\"checkbox-label\">\n                      <input\n                        type=\"checkbox\"\n                        checked={(form.categories || []).includes(cat)}\n                        onChange={()=> toggleCategory(cat)}\n                      />\n                      {cat}\n                    </label>\n                  ))}\n                </div>\n              );\n            })()}\n          </div>\n\n          {/* Basic Registration (main events) */}\n          {eventType === 'main' && (\n            <fieldset className=\"card-like\" style={{ marginTop: 10 }}>\n              <legend>Basic Registration (Main Event)</legend>\n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={basicRegistrationEnabled}\n                  onChange={(e) => setBasicRegistrationEnabled(e.target.checked)}\n                />\n                Enable basic registration for this main event\n              </label>\n              {basicRegistrationEnabled && (\n                <label>Basic Registration Amount ()\n                  <input\n                    type=\"number\"\n                    min={0}\n                    value={basicRegistrationAmount}\n                    onChange={(e) => setBasicRegistrationAmount(Number(e.target.value || 0))}\n                  />\n                </label>\n              )}\n              <small className=\"muted\">When enabled, users can register for the main event. Sub-events continue to use their own fee.</small>\n            </fieldset>\n          )}\n\n          {/* Prize Money */}\n          <fieldset className=\"card-like\" style={{ marginTop: 10 }}>\n            <legend>Prize Money (Optional)</legend>\n            <label>Winner Prize ()\n              <input\n                type=\"number\"\n                min={0}\n                value={winnerPrize}\n                onChange={(e) => setWinnerPrize(Number(e.target.value || 0))}\n                placeholder=\"Enter prize amount for winner\"\n              />\n            </label>\n            <label>Runner-up Prize ()\n              <input\n                type=\"number\"\n                min={0}\n                value={runnerPrize}\n                onChange={(e) => setRunnerPrize(Number(e.target.value || 0))}\n                placeholder=\"Enter prize amount for runner-up\"\n              />\n            </label>\n            <small className=\"muted\">Prize money will be added to the team leader's account when marked as winner/runner.</small>\n          </fieldset>\n\n          <fieldset className=\"card-like\" style={{ marginTop: 10 }}>\n            <legend>Registration Details</legend>\n            {!hasBinding('registrationDetails.feePerHead') && (\n              <>\n                <label>Total Fee (per team / entry)</label>\n                <input\n                  type=\"number\"\n                  min={0}\n                  value={form.registrationDetails.feePerHead}\n                  onChange={(e) =>\n                    setForm({\n                      ...form,\n                      registrationDetails: {\n                        ...form.registrationDetails,\n                        feePerHead: e.target.value,\n                      },\n                    })\n                  }\n                  placeholder=\"e.g., 300 (this is the full amount per team)\"\n                />\n              </>\n            )}\n\n            {!hasBinding('registrationDetails.teamParticipation') && (\n              <label>\n                <input\n                  type=\"checkbox\"\n                  checked={form.registrationDetails.teamParticipation}\n                  onChange={(e) =>\n                    setForm({\n                      ...form,\n                      registrationDetails: {\n                        ...form.registrationDetails,\n                        teamParticipation: e.target.checked,\n                      },\n                    })\n                  }\n                />{' '}\n                Team Participation\n              </label>\n            )}\n          </fieldset>\n\n          {/* Multiple rounds */}\n          <label style={{ display:'flex', alignItems:'center', gap:8 }}>\n            <input type=\"checkbox\" checked={!!form.hasMultipleRounds} onChange={(e)=>{\n              const c = e.target.checked;\n              setForm((f)=>({ ...f, hasMultipleRounds: c, numberOfRounds: c ? Math.max(1, Number(f.numberOfRounds || 2)) : 1 }));\n            }} />\n            Has multiple rounds?\n          </label>\n          {form.hasMultipleRounds && (\n            <>\n              <label>Number of Rounds</label>\n              <input type=\"number\" min={1} value={form.numberOfRounds}\n                     onChange={(e)=> setForm((f)=>({ ...f, numberOfRounds: Math.max(1, Number(e.target.value || 1)) }))} />\n            </>\n          )}\n\n          {/* Team Size configuration when team participation is enabled */}\n          {form.registrationDetails.teamParticipation && (\n            <fieldset className=\"card-like\" style={{ marginTop: 10 }}>\n              <legend>Team Size</legend>\n              <label>Type</label>\n              <select\n                value={form.registrationDetails.teamSize?.type || 'individual'}\n                onChange={(e) => setForm({\n                  ...form,\n                  registrationDetails: {\n                    ...form.registrationDetails,\n                    teamSize: { ...form.registrationDetails.teamSize, type: e.target.value }\n                  }\n                })}\n              >\n                <option value=\"individual\">Individual</option>\n                <option value=\"fixed\">Fixed</option>\n                <option value=\"range\">Range</option>\n                <option value=\"at_most\">At most</option>\n                <option value=\"at_least\">At least</option>\n              </select>\n\n              {form.registrationDetails.teamSize?.type === 'fixed' && (\n                <label>Exact Team Size\n                  <input type=\"number\" min={1}\n                         value={form.registrationDetails.teamSize?.value || 1}\n                         onChange={(e) => setForm({\n                           ...form,\n                           registrationDetails: {\n                             ...form.registrationDetails,\n                             teamSize: { ...form.registrationDetails.teamSize, value: e.target.value }\n                           }\n                         })}\n                  />\n                </label>\n              )}\n\n              {form.registrationDetails.teamSize?.type === 'range' && (\n                <div className=\"form-grid\">\n                  <label>Min Team Size\n                    <input type=\"number\" min={1}\n                           value={form.registrationDetails.teamSize?.minValue || 1}\n                           onChange={(e) => setForm({\n                             ...form,\n                             registrationDetails: {\n                               ...form.registrationDetails,\n                               teamSize: { ...form.registrationDetails.teamSize, minValue: e.target.value }\n                             }\n                           })}\n                    />\n                  </label>\n                  <label>Max Team Size\n                    <input type=\"number\" min={1}\n                           value={form.registrationDetails.teamSize?.maxValue || 1}\n                           onChange={(e) => setForm({\n                             ...form,\n                             registrationDetails: {\n                               ...form.registrationDetails,\n                               teamSize: { ...form.registrationDetails.teamSize, maxValue: e.target.value }\n                             }\n                           })}\n                    />\n                  </label>\n                </div>\n              )}\n\n              {form.registrationDetails.teamSize?.type === 'at_most' && (\n                <label>Max Team Size\n                  <input type=\"number\" min={1}\n                         value={form.registrationDetails.teamSize?.maxValue || 1}\n                         onChange={(e) => setForm({\n                           ...form,\n                           registrationDetails: {\n                             ...form.registrationDetails,\n                             teamSize: { ...form.registrationDetails.teamSize, maxValue: e.target.value }\n                           }\n                         })}\n                  />\n                </label>\n              )}\n\n              {form.registrationDetails.teamSize?.type === 'at_least' && (\n                <label>Min Team Size\n                  <input type=\"number\" min={1}\n                         value={form.registrationDetails.teamSize?.minValue || 1}\n                         onChange={(e) => setForm({\n                           ...form,\n                           registrationDetails: {\n                             ...form.registrationDetails,\n                             teamSize: { ...form.registrationDetails.teamSize, minValue: e.target.value }\n                           }\n                         })}\n                  />\n                </label>\n              )}\n            </fieldset>\n          )}\n        </div>\n\n        {/* Right Column - Certificate Preview */}\n        <div className=\"admin-form-right\">\n          <fieldset className=\"card-like\">\n            <legend> Certificate Template</legend>\n            \n            <label>Template Background URL (optional)</label>\n            <input\n              placeholder=\"e.g., https://.../certificate-bg.png\"\n              value={form.certificateTemplateUrl}\n              onChange={(e) => setForm({ ...form, certificateTemplateUrl: e.target.value })}\n            />\n\n            <label>Organizer / Signatory (optional)</label>\n            <input\n              placeholder=\"e.g., Event Coordinator\"\n              value={form.certificateOrganizer}\n              onChange={(e) => setForm({ ...form, certificateOrganizer: e.target.value })}\n            />\n\n            <label>Award Title</label>\n            <input\n              placeholder=\"Certificate of Participation\"\n              value={form.certificateAwardText}\n              onChange={(e) => setForm({ ...form, certificateAwardText: e.target.value })}\n            />\n\n            <div style={{ marginTop: 20 }}>\n              <div className=\"muted\" style={{ marginBottom: 12, fontWeight: 600 }}>Certificate Preview</div>\n              <CertificateTemplate\n                participantName={'John Doe'}\n                eventName={form.name || 'Event Name'}\n                dateText={form.date ? new Date(form.date).toLocaleDateString() : ''}\n                organizerText={form.certificateOrganizer || ''}\n                awardText={form.certificateAwardText || 'Certificate of Participation'}\n                accentColor={'#111827'}\n                primaryColor={'#14b8a6'}\n                bgPattern={form.certificateTemplateUrl || ''}\n                issuerName={'GMRIT'}\n                logoUrl={form.imageUrl || ''}\n                showSeal={true}\n                sealSize={90}\n                sealText={'Official'}\n                downloadBaseName={'template-preview'}\n                showActions={false}\n              />\n            </div>\n          </fieldset>\n        </div>\n\n        {/* Fixed bottom action bar (always visible) */}\n        <div className=\"fixed-actions\">\n          <div className=\"fixed-actions-inner\">\n            <button className=\"btn-secondary\" type=\"button\" onClick={() => navigate('/admin')}>\n              Cancel\n            </button>\n            <button className=\"btn-primary\" type=\"submit\" disabled={saving}>\n              {id ? 'Update Event' : 'Create Event'}\n            </button>\n          </div>\n        </div>\n        {/* Spacer so fixed bar doesn't cover inputs at the very bottom */}\n        <div style={{ height: 72 }} />\n      </form>\n    </div>\n  );\n};\nexport default AdminEventForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}